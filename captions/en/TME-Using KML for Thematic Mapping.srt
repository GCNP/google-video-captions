1
00:00:01,033 --> 00:00:02,334
Hi, I'm Mano Marks,

2
00:00:02,334 --> 00:00:05,167
and it's my pleasure today
to introduce

3
00:00:05,167 --> 00:00:06,367
Bjorn Sandvik.

4
00:00:06,367 --> 00:00:08,033
He is a project manager

5
00:00:08,033 --> 00:00:10,501
at the United Nations
Association of Norway.

6
00:00:10,501 --> 00:00:13,100
He's got
a Masters in Science

7
00:00:13,100 --> 00:00:15,834
in Geographic
Information Systems

8
00:00:15,834 --> 00:00:17,400
from the University
of Edinburgh,

9
00:00:17,400 --> 00:00:18,934
and he's a web developer
and author

10
00:00:18,934 --> 00:00:22,133
of the Thematic Mapping blog.

11
00:00:22,133 --> 00:00:23,968
And he is here today
to talk about

12
00:00:23,968 --> 00:00:26,434
using KML for
thematic mapping

13
00:00:26,434 --> 00:00:27,968
and explain
how KML documents

14
00:00:27,968 --> 00:00:29,267
can be generated on the fly

15
00:00:29,267 --> 00:00:32,634
using the now open source
thematic mapping engine.

16
00:00:38,067 --> 00:00:39,334
Sandvik:
Thank you.

17
00:00:39,334 --> 00:00:41,200
First of all,
I want to thank

18
00:00:41,200 --> 00:00:42,968
Mano and Michael
for inviting me

19
00:00:42,968 --> 00:00:44,267
all the way from Norway.

20
00:00:44,267 --> 00:00:45,434
It's nice to be here.

21
00:00:45,434 --> 00:00:47,701
I'd guess it's
20 degrees warmer

22
00:00:47,701 --> 00:00:50,234
than in Oslo
before I left.

23
00:00:50,234 --> 00:00:53,601
Um...I'm going
to give this presentation

24
00:00:53,601 --> 00:00:57,367
and I will focus on how

25
00:00:57,367 --> 00:01:00,300
KML can be used
for thematic mapping.

26
00:01:00,300 --> 00:01:04,901
And, um, so I will show you
different techniques

27
00:01:04,901 --> 00:01:08,100
of how you can use
the thematic mapping techniques

28
00:01:08,100 --> 00:01:09,367
in KML,

29
00:01:09,367 --> 00:01:11,534
and I will also show
how you can use

30
00:01:11,534 --> 00:01:12,868
the thematic mapping
engine--

31
00:01:12,868 --> 00:01:16,100
which, as you said,
which is now open source--

32
00:01:16,100 --> 00:01:21,200
to generate these
on the fly in a web browser.

33
00:01:21,200 --> 00:01:23,868
And I also want to talk

34
00:01:23,868 --> 00:01:25,334
about some
Google Earth issues,

35
00:01:25,334 --> 00:01:27,267
some improvements
I would like to suggest

36
00:01:27,267 --> 00:01:30,634
so it could be more easy
to use for thematic mapping.

37
00:01:33,834 --> 00:01:36,133
Um, I will start with

38
00:01:36,133 --> 00:01:38,133
a common
thematic mapping technique

39
00:01:38,133 --> 00:01:41,334
called
"proportional symbols."

40
00:01:41,334 --> 00:01:43,968
And I will identify
three different ways

41
00:01:43,968 --> 00:01:48,634
of making these symbols
in KML.

42
00:01:48,634 --> 00:01:52,033
And the first one is
to use the image icons,

43
00:01:52,033 --> 00:01:53,767
to scale them,

44
00:01:53,767 --> 00:01:56,968
and, um, this technique
is my favorite.

45
00:01:56,968 --> 00:01:58,601
And I think it's
the most useful

46
00:01:58,601 --> 00:02:03,400
way of making
proportional symbols in KML.

47
00:02:03,400 --> 00:02:07,601
Uh, this one just shows
with the default push pins.

48
00:02:07,601 --> 00:02:10,767
And here they are scaled
so they are proportional

49
00:02:10,767 --> 00:02:14,234
to the population
in each country.

50
00:02:14,234 --> 00:02:17,567
Uh, the background here
is the NASA City Lights,

51
00:02:17,567 --> 00:02:20,100
and, um, this
is one thing I like

52
00:02:20,100 --> 00:02:22,000
with using your browser
for thematic mapping--

53
00:02:22,000 --> 00:02:24,400
is that you are
able to combine

54
00:02:24,400 --> 00:02:28,167
raster data and
vector data very easily.

55
00:02:28,167 --> 00:02:30,501
Um, yes.

56
00:02:30,501 --> 00:02:33,100
So what you can do
is that you can,

57
00:02:33,100 --> 00:02:36,801
just, uh, reference
another image,

58
00:02:36,801 --> 00:02:40,601
uh, and then scale them
according to a numerical

59
00:02:40,601 --> 00:02:45,167
or a statistical value.

60
00:02:45,167 --> 00:02:47,367
So basically,
this can be any image.

61
00:02:47,367 --> 00:02:49,634
So you can have
geometric images

62
00:02:49,634 --> 00:02:51,968
or they can be
pictographic.

63
00:02:56,968 --> 00:02:59,801
Uh, KML also has
the possibility

64
00:02:59,801 --> 00:03:03,634
to colorize
the image icons.

65
00:03:03,634 --> 00:03:05,734
And that is also very good
for thematic mapping.

66
00:03:05,734 --> 00:03:08,934
So here that it--
you could represent

67
00:03:08,934 --> 00:03:10,734
two different variables.

68
00:03:10,734 --> 00:03:12,767
But here this--
the same variables

69
00:03:12,767 --> 00:03:17,267
are represented by
both color and scale.

70
00:03:17,267 --> 00:03:18,934
So what--basically
what I've done is just

71
00:03:18,934 --> 00:03:22,367
make a white circle
on the transparent background,

72
00:03:22,367 --> 00:03:25,801
and then they are
scaled and colorized

73
00:03:25,801 --> 00:03:27,467
in KML directly.

74
00:03:32,067 --> 00:03:37,200
So this is just a short
KML of--how it's done.

75
00:03:37,200 --> 00:03:40,734
So the symbol is--
sorry--

76
00:03:40,734 --> 00:03:43,033
referenced
in a shared style,

77
00:03:43,033 --> 00:03:46,000
and then they are
colorized and scaled

78
00:03:46,000 --> 00:03:48,400
for each place mark
or each country.

79
00:03:52,234 --> 00:03:57,000
There is one problem
with this in Google Earth,

80
00:03:57,000 --> 00:03:59,367
and that is the--
it's a problem of--

81
00:03:59,367 --> 00:04:02,968
that the size
is affected by viewports.

82
00:04:02,968 --> 00:04:04,234
And that is--
the reason is that

83
00:04:04,234 --> 00:04:07,033
there are two different ways
of changing the size

84
00:04:07,033 --> 00:04:08,100
of the Earth.

85
00:04:08,100 --> 00:04:09,801
You can either
zoom in and out

86
00:04:09,801 --> 00:04:13,667
or you can actually change
the size of the window.

87
00:04:13,667 --> 00:04:15,567
And I can
give an example.

88
00:04:27,000 --> 00:04:29,133
So if I'm zooming
in and out,

89
00:04:29,133 --> 00:04:34,334
you will see the--
the size is adjusting.

90
00:04:34,334 --> 00:04:38,467
But if I'm changing
the size of the window,

91
00:04:38,467 --> 00:04:40,667
you will see
they maintain their size--

92
00:04:40,667 --> 00:04:43,033
all the icons.

93
00:04:43,033 --> 00:04:45,167
And I'm not sure if
there is a special reason

94
00:04:45,167 --> 00:04:47,267
for this behavior
or if it's, uh,

95
00:04:47,267 --> 00:04:48,334
like a bug.

96
00:04:48,334 --> 00:04:49,801
But the--
this is a problem,

97
00:04:49,801 --> 00:04:52,167
especially with the new
Google Earth plug-in,

98
00:04:52,167 --> 00:04:54,501
because very often
you won't use the whole screen

99
00:04:54,501 --> 00:04:56,033
to show the maps,

100
00:04:56,033 --> 00:04:59,067
and you will just use like a--
in the frame or something.

101
00:04:59,067 --> 00:05:00,534
And then,
you can't really--

102
00:05:00,534 --> 00:05:03,934
you don't really know
how big the icons will show

103
00:05:03,934 --> 00:05:05,200
up on the screen.

104
00:05:08,801 --> 00:05:11,934
Uh, another problem
is with Google Maps.

105
00:05:11,934 --> 00:05:13,300
If you want to use
these techniques

106
00:05:13,300 --> 00:05:16,501
to visualize the KML
in Google Maps,

107
00:05:16,501 --> 00:05:18,567
uh, Google Maps only--

108
00:05:18,567 --> 00:05:21,400
it has--it has a fixed size
for all the icons.

109
00:05:21,400 --> 00:05:23,734
So they won't be scaled.

110
00:05:23,734 --> 00:05:26,534
And you are not able
to colorize them either.

111
00:05:26,534 --> 00:05:28,567
So basically,
this technique only works

112
00:05:28,567 --> 00:05:33,434
so far in--
in Google Earth.

113
00:05:33,434 --> 00:05:35,767
The other technique
is to actually

114
00:05:35,767 --> 00:05:37,400
draw the polygons

115
00:05:37,400 --> 00:05:42,868
using the KML
polygon elements.

116
00:05:42,868 --> 00:05:45,133
So basically,
what I'm doing here is

117
00:05:45,133 --> 00:05:48,100
to calculate the latitude
and longitude points

118
00:05:48,100 --> 00:05:50,467
that makes up
a circle.

119
00:05:50,467 --> 00:05:51,868
And this is done
through a function.

120
00:05:51,868 --> 00:05:54,567
So by changing
the number of points,

121
00:05:54,567 --> 00:05:55,868
as you can see here
in the bottom,

122
00:05:55,868 --> 00:05:59,801
you can obviously change the--
the shape of the symbol.

123
00:05:59,801 --> 00:06:01,968
So this sort of works.
There is a problem.

124
00:06:01,968 --> 00:06:04,801
What I like with the other
image icons technique

125
00:06:04,801 --> 00:06:07,968
is that the icons are always
facing the user.

126
00:06:07,968 --> 00:06:10,534
But here they are more
like lying on the ground,

127
00:06:10,534 --> 00:06:12,400
and especially
in the 3-D interface.

128
00:06:12,400 --> 00:06:14,200
It's really hard
for the user

129
00:06:14,200 --> 00:06:15,968
to compare
different countries

130
00:06:15,968 --> 00:06:19,167
when they are seen
in perspective.

131
00:06:19,167 --> 00:06:22,434
Um, and it's--
another thing is

132
00:06:22,434 --> 00:06:23,834
that it's--
I think it's probably

133
00:06:23,834 --> 00:06:25,667
the most com--
most complicated way

134
00:06:25,667 --> 00:06:28,501
of drawing a circle

135
00:06:28,501 --> 00:06:29,801
is this function,

136
00:06:29,801 --> 00:06:32,400
because basically,
for every single circle,

137
00:06:32,400 --> 00:06:34,000
you have to calculate
all the latitude

138
00:06:34,000 --> 00:06:36,767
and longitude points
to make up the circle.

139
00:06:36,767 --> 00:06:38,968
So one improvement
to KML code, for example,

140
00:06:38,968 --> 00:06:42,100
this could be done with
one line of SVG, for example--

141
00:06:42,100 --> 00:06:46,000
could be to add support
for this directly in KML.

142
00:06:46,000 --> 00:06:48,367
Uh, the good thing
of this technique is that

143
00:06:48,367 --> 00:06:51,033
this one, even though it's
not so good in Google Earth,

144
00:06:51,033 --> 00:06:53,968
it works very well
on Google Maps.

145
00:06:53,968 --> 00:06:58,400
So the squares here,
they show up as true squares,

146
00:06:58,400 --> 00:07:01,834
while in--on Google Earth
they will kind of get skewed

147
00:07:01,834 --> 00:07:05,300
because
of that perspective.

148
00:07:08,467 --> 00:07:10,701
Uh, the third technique
that we're looking at

149
00:07:10,701 --> 00:07:14,400
is to use the Collada
objects or models

150
00:07:14,400 --> 00:07:15,901
to make
proportional symbols.

151
00:07:15,901 --> 00:07:17,801
These are normally
used, like, for the cities

152
00:07:17,801 --> 00:07:20,033
and buildings,
but since you have possible--

153
00:07:20,033 --> 00:07:22,968
you have the possibility
to scalethese models,

154
00:07:22,968 --> 00:07:26,868
you can also use them
for thematic mapping.

155
00:07:26,868 --> 00:07:31,200
So this is an example
of population shown as cubes.

156
00:07:31,200 --> 00:07:33,267
So here I'm using volume

157
00:07:33,267 --> 00:07:36,934
as the thematic
mapping parameter.

158
00:07:40,501 --> 00:07:42,667
Another one, you--
of course you can have

159
00:07:42,667 --> 00:07:44,267
every model.

160
00:07:44,267 --> 00:07:46,834
So this was downloaded
from, uh,

161
00:07:46,834 --> 00:07:49,767
Google Warehouse
and then scaled.

162
00:07:49,767 --> 00:07:50,934
So this is showing
the number

163
00:07:50,934 --> 00:07:55,868
of mobile phone
subscribers.

164
00:07:55,868 --> 00:08:00,467
Uh, one difficult thing
about using the Colladas

165
00:08:00,467 --> 00:08:02,968
is that
it's more difficult

166
00:08:02,968 --> 00:08:06,033
for the user
to compare 3-D symbols,

167
00:08:06,033 --> 00:08:08,567
especially when they
are also in perspective.

168
00:08:08,567 --> 00:08:11,934
So and--one missing feature
is the possibility

169
00:08:11,934 --> 00:08:14,801
to actually be able
to click on the models

170
00:08:14,801 --> 00:08:16,234
to get the value.

171
00:08:16,234 --> 00:08:17,367
So far, you can only click

172
00:08:17,367 --> 00:08:19,234
on the image icons
and the polygons.

173
00:08:19,234 --> 00:08:21,968
But that would be a nice,
like, extension to have.

174
00:08:27,033 --> 00:08:28,701
So this is basically
how it's done.

175
00:08:28,701 --> 00:08:31,634
It's--I import
a model into SketchUp,

176
00:08:31,634 --> 00:08:34,467
and then
they are positioned

177
00:08:34,467 --> 00:08:38,701
and also scaled,
so all the different objects

178
00:08:38,701 --> 00:08:40,501
will have the same scale.

179
00:08:40,501 --> 00:08:44,033
And then I also give them
a default color.

180
00:08:44,033 --> 00:08:47,133
And by doing that,
I'm able to change the color

181
00:08:47,133 --> 00:08:50,000
later on when
I generate the maps

182
00:08:50,000 --> 00:08:52,033
because Collada
is also in XML format

183
00:08:52,033 --> 00:08:53,567
so I can actually
read it into memory,

184
00:08:53,567 --> 00:08:57,601
change the color, and then
save it to the KM set files.

185
00:08:57,601 --> 00:08:59,000
To do that on the fly.

186
00:09:03,367 --> 00:09:06,167
Okay, so that was
proportional symbols.

187
00:09:06,167 --> 00:09:07,868
Uh, the next one--

188
00:09:07,868 --> 00:09:09,901
popular thematic
mapping technique--

189
00:09:09,901 --> 00:09:12,767
is to use chart maps.

190
00:09:12,767 --> 00:09:17,701
Um, KML has no support
for charts, uh, natively.

191
00:09:17,701 --> 00:09:18,767
But what's very good

192
00:09:18,767 --> 00:09:20,968
is that you have
the Google Chart API.

193
00:09:20,968 --> 00:09:24,601
And that is--it's
quite easy to embed or include

194
00:09:24,601 --> 00:09:29,167
charts from the API
into the KML file.

195
00:09:29,167 --> 00:09:32,767
So that's what
I've been doing here.

196
00:09:32,767 --> 00:09:35,934
Uh, the size of the charts
is still proportional

197
00:09:35,934 --> 00:09:37,467
to the total population,

198
00:09:37,467 --> 00:09:39,033
while the charts themselves,

199
00:09:39,033 --> 00:09:41,467
they show
the age distribution

200
00:09:41,467 --> 00:09:43,067
for each country.

201
00:09:47,567 --> 00:09:49,400
And the charts
can also be included

202
00:09:49,400 --> 00:09:51,200
in the--
in the balloon.

203
00:09:56,767 --> 00:09:59,200
So another example,
with the bar charts.

204
00:09:59,200 --> 00:10:02,968
So it's good to use--
to show change over time.

205
00:10:02,968 --> 00:10:06,400
So this shows the declining
infant mortality rate

206
00:10:06,400 --> 00:10:08,267
for African countries.

207
00:10:16,367 --> 00:10:20,267
Uh, a good thing
I like with, um...

208
00:10:20,267 --> 00:10:24,934
with KML is the possibility
to have extended data.

209
00:10:24,934 --> 00:10:28,767
And that is especially good
for the balloon style,

210
00:10:28,767 --> 00:10:31,701
where you can reference
this extended data.

211
00:10:31,701 --> 00:10:33,868
It's a much more, like,
cleaner way of making

212
00:10:33,868 --> 00:10:35,701
these types of maps.

213
00:10:35,701 --> 00:10:37,801
So that I would also
like as an extension--

214
00:10:37,801 --> 00:10:39,801
that you could actually use
this extended data

215
00:10:39,801 --> 00:10:41,601
within
the whole place mark,

216
00:10:41,601 --> 00:10:43,567
not only within
the balloon style.

217
00:10:43,567 --> 00:10:45,033
It will be much
easier to make--

218
00:10:45,033 --> 00:10:47,634
kind of make these maps,

219
00:10:47,634 --> 00:10:49,467
and easier for people
to kind of understand

220
00:10:49,467 --> 00:10:50,868
what actually
is happening here.

221
00:10:57,968 --> 00:11:00,300
Okay, the next technique
is choropleths.

222
00:11:00,300 --> 00:11:03,601
It's probably
the most used and misused

223
00:11:03,601 --> 00:11:06,033
thematic mapping
technique.

224
00:11:06,033 --> 00:11:10,067
Um, you will see lots
of examples of choropleths

225
00:11:10,067 --> 00:11:13,167
on the web
also for KML.

226
00:11:13,167 --> 00:11:15,701
Um, you will
also see here that

227
00:11:15,701 --> 00:11:18,100
I have like a--
uh, color legends,

228
00:11:18,100 --> 00:11:19,834
so this thematic
mapping engine

229
00:11:19,834 --> 00:11:22,601
is also able to make
the color legends on the fly.

230
00:11:22,601 --> 00:11:25,100
We'll show you later on
how this is achieved.

231
00:11:28,634 --> 00:11:32,167
Uh, another technique is
related to the choropleths

232
00:11:32,167 --> 00:11:34,067
where you--
instead of using color,

233
00:11:34,067 --> 00:11:37,601
you use the heights
of the polygons.

234
00:11:37,601 --> 00:11:40,334
Um, so I was
able to do this

235
00:11:40,334 --> 00:11:42,667
by using
extruded polygons,

236
00:11:42,667 --> 00:11:44,434
which is supported
in--in KML.

237
00:11:44,434 --> 00:11:47,634
So here the height
is proportional

238
00:11:47,634 --> 00:11:49,701
to the statistical value.

239
00:11:49,701 --> 00:11:52,334
So this map is showing
the infant mortality rates

240
00:11:52,334 --> 00:11:55,767
in Africa.

241
00:11:55,767 --> 00:11:58,801
What I think is improving
the view for the user

242
00:11:58,801 --> 00:12:01,033
is to add color as well.

243
00:12:01,033 --> 00:12:03,334
Again, this could be
like a different variable,

244
00:12:03,334 --> 00:12:06,100
but I think the best thing
is not to--to mix

245
00:12:06,100 --> 00:12:08,367
when you use
these prism maps

246
00:12:08,367 --> 00:12:10,868
so actually it's
showing the same variables.

247
00:12:16,701 --> 00:12:19,734
Another example--
this is showing the population

248
00:12:19,734 --> 00:12:22,534
in municipalities
in Norway.

249
00:12:22,534 --> 00:12:28,367
You will see Oslo here--
the capital.

250
00:12:28,367 --> 00:12:30,567
So these techniques
can be used on all scales

251
00:12:30,567 --> 00:12:32,968
on the whole globe
and also--

252
00:12:35,200 --> 00:12:39,767
The problem with the prism
maps is there's holes,

253
00:12:39,767 --> 00:12:41,501
polygon holes.

254
00:12:41,501 --> 00:12:43,367
And the reason is that

255
00:12:43,367 --> 00:12:45,434
if you have a polygon
on the ground,

256
00:12:45,434 --> 00:12:48,634
you have the attribute
called a "clamp" to ground,

257
00:12:48,634 --> 00:12:51,267
so it's actually following
the surface of the Earth,

258
00:12:51,267 --> 00:12:52,801
the great circle.

259
00:12:52,801 --> 00:12:55,200
But when you
extrude polygons,

260
00:12:55,200 --> 00:12:57,234
you don't have
such an option.

261
00:12:57,234 --> 00:13:00,968
So only the edges
of the polygons

262
00:13:00,968 --> 00:13:03,067
are extruded,
but not the interior.

263
00:13:03,067 --> 00:13:04,834
So when some countries
have, like,

264
00:13:04,834 --> 00:13:06,567
a low statistical value,

265
00:13:06,567 --> 00:13:08,167
they will have
a low altitude value,

266
00:13:08,167 --> 00:13:10,901
and these holes
will appear.

267
00:13:15,934 --> 00:13:19,868
So this one
is just a suggestion

268
00:13:19,868 --> 00:13:23,300
of how this could be
solved in KML.

269
00:13:23,300 --> 00:13:26,000
Then, instead of specifying
the altitude

270
00:13:26,000 --> 00:13:29,067
for each vertex
of the polygon,

271
00:13:29,067 --> 00:13:30,901
you could have
another attribute

272
00:13:30,901 --> 00:13:32,634
where you only specify

273
00:13:32,634 --> 00:13:34,968
the altitude once

274
00:13:34,968 --> 00:13:37,067
and then the whole polygons
will be extruded

275
00:13:37,067 --> 00:13:38,467
to that altitude.

276
00:13:38,467 --> 00:13:40,267
And then
you could also have

277
00:13:40,267 --> 00:13:42,267
an attribute, for example,
called "clamp"

278
00:13:42,267 --> 00:13:43,801
to altitude.

279
00:13:43,801 --> 00:13:45,868
So the whole polygon
will actually, like,

280
00:13:45,868 --> 00:13:47,334
follow the great circle.

281
00:13:53,901 --> 00:13:57,901
The next technique is
similar to the prism maps,

282
00:13:57,901 --> 00:13:59,868
but this is using
bars instead.

283
00:13:59,868 --> 00:14:02,400
So here I'm combining
the reg--

284
00:14:02,400 --> 00:14:04,501
the technique for
the regular polygons

285
00:14:04,501 --> 00:14:07,334
and adding
the height attributes.

286
00:14:07,334 --> 00:14:10,133
So this one is showing
the number of internet users

287
00:14:10,133 --> 00:14:13,167
per 100 population.

288
00:14:13,167 --> 00:14:15,634
Um, what's possible
with the bars

289
00:14:15,634 --> 00:14:19,234
is that you can actually use--
show two different variables.

290
00:14:19,234 --> 00:14:20,667
A problem with this
is that

291
00:14:20,667 --> 00:14:22,501
there is a lot
of countries in Europe.

292
00:14:22,501 --> 00:14:25,868
So you get, like, a lot
of attention towards Europe,

293
00:14:25,868 --> 00:14:27,934
because even though
it's a small country,

294
00:14:27,934 --> 00:14:30,067
uh, with a tiny population,
it might still have,

295
00:14:30,067 --> 00:14:32,400
like, a big bar.

296
00:14:32,400 --> 00:14:36,133
So what you can do
is to have population

297
00:14:36,133 --> 00:14:38,167
as the radius
or the diameter

298
00:14:38,167 --> 00:14:40,234
of the bar,

299
00:14:40,234 --> 00:14:43,334
and then have the height--
and here also the color--

300
00:14:43,334 --> 00:14:45,534
to show
the statistical value.

301
00:14:52,434 --> 00:14:56,667
The last technique I will
present is animated maps,

302
00:14:56,667 --> 00:15:00,801
and here I'm using the quite
simple but very powerful

303
00:15:00,801 --> 00:15:05,567
KML time primitives
to make thematic maps.

304
00:15:05,567 --> 00:15:07,367
So I will show you
a few examples.

305
00:15:21,367 --> 00:15:26,767
So this one is one example
with the prism map.

306
00:15:26,767 --> 00:15:30,767
So this is the infant
mortality rate in 1960

307
00:15:30,767 --> 00:15:33,033
shown on this map.

308
00:15:33,033 --> 00:15:36,901
So by dragging the slider,

309
00:15:36,901 --> 00:15:40,434
you can see how
the infant mortality rate

310
00:15:40,434 --> 00:15:43,567
is declining...

311
00:15:43,567 --> 00:15:47,634
until 2005.

312
00:15:47,634 --> 00:15:48,734
And I think this is--

313
00:15:48,734 --> 00:15:50,701
it's a quite nice way
of doing it.

314
00:15:50,701 --> 00:15:52,634
You could do the same
only with color,

315
00:15:52,634 --> 00:15:55,167
but it's easier for
the eye to spot changes

316
00:15:55,167 --> 00:15:57,567
when you use height
and color.

317
00:16:04,934 --> 00:16:08,767
Uh, another example is,
again, with the mobile phones.

318
00:16:15,734 --> 00:16:19,601
So if I zoom in to...

319
00:16:19,601 --> 00:16:22,400
this one starts in 1980,
I know.

320
00:16:22,400 --> 00:16:26,300
You will see a tiny mobile
phone in--in Finland.

321
00:16:26,300 --> 00:16:28,701
[laughter]

322
00:16:28,701 --> 00:16:33,234
And also here you can see
the--how it changed things.

323
00:16:33,234 --> 00:16:37,834
Scandinavia is quite good in
the beginning of the 1980s.

324
00:16:37,834 --> 00:16:40,367
And then
it's really exploding

325
00:16:40,367 --> 00:16:45,067
across Europe.

326
00:16:45,067 --> 00:16:47,601
So you would have
this view in 2005.

327
00:16:47,601 --> 00:16:50,901
So the highest number now of--
of mobile phone users--

328
00:16:50,901 --> 00:16:53,400
this is not per,
like, per population.

329
00:16:53,400 --> 00:16:55,501
It's not standardized.
This is total numbers.

330
00:16:55,501 --> 00:16:58,434
It's now in--in China.

331
00:16:58,434 --> 00:17:01,767
And, um, United States,
number two.

332
00:17:12,868 --> 00:17:15,634
Okay, so that
was the techniques.

333
00:17:15,634 --> 00:17:18,033
Um, I figured out when I was
working on these techniques

334
00:17:18,033 --> 00:17:21,934
that it was quite complicated
to create these maps.

335
00:17:21,934 --> 00:17:24,934
Uh, I did this programically
in using PHP

336
00:17:24,934 --> 00:17:26,601
to generate the KML files.

337
00:17:26,601 --> 00:17:28,501
So what I thought was
it would be much easier

338
00:17:28,501 --> 00:17:31,801
if this could be done in
an easy-to-use web interface

339
00:17:31,801 --> 00:17:33,234
for the user.

340
00:17:33,234 --> 00:17:35,834
So that's why I created
a thematic mapping engine,

341
00:17:35,834 --> 00:17:38,701
which was open-sourced this--
this Monday.

342
00:17:38,701 --> 00:17:40,701
So it's available
now on the web

343
00:17:40,701 --> 00:17:43,534
under, uh, GPL license.

344
00:17:43,534 --> 00:17:46,167
Um, I will give you
a short demonstration.

345
00:17:52,334 --> 00:17:56,734
Um, there are--there are
two ways of using this engine.

346
00:17:56,734 --> 00:17:59,067
You could either use it as--
in a web interface

347
00:17:59,067 --> 00:18:02,200
or you could use it in a--
as an API,

348
00:18:02,200 --> 00:18:04,434
which I will show later.

349
00:18:04,434 --> 00:18:06,167
So this is
the web interface.

350
00:18:06,167 --> 00:18:07,901
So what you can do
is that you can

351
00:18:07,901 --> 00:18:10,100
select
a statistical indicator.

352
00:18:10,100 --> 00:18:15,767
So I can, for example,
take...

353
00:18:15,767 --> 00:18:18,200
the infant
mortality rate again,

354
00:18:18,200 --> 00:18:22,400
and then select a year
you want to show,

355
00:18:22,400 --> 00:18:26,434
and then you can, uh,
choose one of the techniques.

356
00:18:26,434 --> 00:18:28,367
So all of the techniques
are shown--are here

357
00:18:28,367 --> 00:18:29,534
except the chart maps.

358
00:18:29,534 --> 00:18:31,701
It's not yet available.

359
00:18:31,701 --> 00:18:33,467
So I will take the prism.

360
00:18:33,467 --> 00:18:37,667
You can set the maximum
height of the prism

361
00:18:37,667 --> 00:18:40,601
and you can select
the colors

362
00:18:40,601 --> 00:18:43,267
you would
like to do--use.

363
00:18:43,267 --> 00:18:44,501
The color scale.

364
00:18:44,501 --> 00:18:48,133
By the--entering
the start and, uh--and color.

365
00:18:48,133 --> 00:18:49,167
And you can also choose

366
00:18:49,167 --> 00:18:51,601
between different
classifications

367
00:18:51,601 --> 00:18:53,634
for the data.

368
00:18:53,634 --> 00:18:55,567
So I will use
equal intervals,

369
00:18:55,567 --> 00:18:57,400
five classes,

370
00:18:57,400 --> 00:19:00,033
and I would also like
to show the values

371
00:19:00,033 --> 00:19:01,834
and the names
of the countries

372
00:19:01,834 --> 00:19:04,667
on the top of the prism.

373
00:19:04,667 --> 00:19:06,767
So you can use--
do like this,

374
00:19:06,767 --> 00:19:09,501
and what was great
when I was working on this

375
00:19:09,501 --> 00:19:12,567
for my thesis
was that you--

376
00:19:12,567 --> 00:19:16,834
we got a Google Earth API
back in June.

377
00:19:16,834 --> 00:19:18,734
So--and that was very nice,
because then you didn't

378
00:19:18,734 --> 00:19:20,467
have to switch between
two applications.

379
00:19:20,467 --> 00:19:22,334
You can actually
see the data

380
00:19:22,334 --> 00:19:24,968
right away in the browser.

381
00:19:24,968 --> 00:19:27,267
So if you click "Preview,"

382
00:19:27,267 --> 00:19:29,467
it will make the KML

383
00:19:29,467 --> 00:19:30,968
in the background
on the server

384
00:19:30,968 --> 00:19:35,567
and then show it instantly
in the browser.

385
00:19:35,567 --> 00:19:38,100
And if you zoom in here,
you will also see, like,

386
00:19:38,100 --> 00:19:41,067
the--the names
and the values.

387
00:19:44,133 --> 00:19:48,033
So now I'm just waiting
for the--Google Earth's API

388
00:19:48,033 --> 00:19:50,734
to support
the time slider.

389
00:19:50,734 --> 00:19:53,334
It's--I don't think it's--
you're not yet supporting it.

390
00:19:53,334 --> 00:19:55,501
So to show
the time animation,

391
00:19:55,501 --> 00:19:58,868
you have to download to--
to Google Earth instead.

392
00:19:58,868 --> 00:20:00,467
So that's another option.

393
00:20:00,467 --> 00:20:02,234
Can just click on this
and it will open

394
00:20:02,234 --> 00:20:03,868
and download
the KML file.

395
00:20:15,667 --> 00:20:18,234
So basically,
on a higher level,

396
00:20:18,234 --> 00:20:20,767
uh, this engine--
this is how it works.

397
00:20:20,767 --> 00:20:23,734
So it takes
statistical data

398
00:20:23,734 --> 00:20:27,234
and it needs the border
of the features

399
00:20:27,234 --> 00:20:29,367
and it needs
a set of parameters

400
00:20:29,367 --> 00:20:31,334
of how the map
is going to be.

401
00:20:31,334 --> 00:20:32,701
And then all this
is fed--

402
00:20:32,701 --> 00:20:34,734
fed into
the thematic mapping engine

403
00:20:34,734 --> 00:20:37,834
and then it returns
uh, a KM set file

404
00:20:37,834 --> 00:20:40,834
which is then delivered
back to the browser.

405
00:20:40,834 --> 00:20:44,000
Uh, so far there
are two ways of, um,

406
00:20:44,000 --> 00:20:45,100
interacting
with the engine.

407
00:20:45,100 --> 00:20:46,734
You could either use
the web interface

408
00:20:46,734 --> 00:20:50,767
or you can access this
through a--as a PHP API.

409
00:20:50,767 --> 00:20:52,667
So if you have
a PHP application,

410
00:20:52,667 --> 00:20:54,901
you can, uh,
use the engine

411
00:20:54,901 --> 00:20:57,934
and use it with
your own data, for example.

412
00:20:57,934 --> 00:21:00,067
And one possible
extension would ma--

413
00:21:00,067 --> 00:21:02,701
would be to make this
as a web service

414
00:21:02,701 --> 00:21:04,934
so that you could do this
directly on the--

415
00:21:04,934 --> 00:21:07,667
on the internet
by passing the data

416
00:21:07,667 --> 00:21:09,167
to a web service.

417
00:21:13,267 --> 00:21:16,367
Just click through this.

418
00:21:16,367 --> 00:21:19,901
Uh, so
the web interface...

419
00:21:19,901 --> 00:21:23,400
uses Ajax
and JSON techniques

420
00:21:23,400 --> 00:21:26,601
to kind of have this, um,

421
00:21:26,601 --> 00:21:30,467
rich, uh, interface.

422
00:21:30,467 --> 00:21:32,200
So it starts
by just asking

423
00:21:32,200 --> 00:21:33,968
for all the
statistical indicators,

424
00:21:33,968 --> 00:21:36,701
and then it's delivered
back to the browser.

425
00:21:36,701 --> 00:21:38,968
And then when the user
selects one indicator,

426
00:21:38,968 --> 00:21:42,167
it asks for all
the available years.

427
00:21:42,167 --> 00:21:45,267
And then aft--
when the user, uh,

428
00:21:45,267 --> 00:21:46,934
push the "Submit" button,

429
00:21:46,934 --> 00:21:49,934
uh, all the parameters
are sent to the server

430
00:21:49,934 --> 00:21:52,100
and then the link
to the KML file

431
00:21:52,100 --> 00:21:54,334
is returned to the browser.

432
00:21:54,334 --> 00:21:57,601
And if the Google Earth
API is used,

433
00:21:57,601 --> 00:22:00,267
it just instantly loads
the--the KML file.

434
00:22:03,767 --> 00:22:05,467
And this is what's
happening on the server.

435
00:22:05,467 --> 00:22:08,200
There is a form handler

436
00:22:08,200 --> 00:22:11,000
that's--communicates
with the browser.

437
00:22:11,000 --> 00:22:13,100
And then I have divided
it into two classes,

438
00:22:13,100 --> 00:22:15,000
so you could extend it
more easily to

439
00:22:15,000 --> 00:22:17,167
and add other data sources.

440
00:22:17,167 --> 00:22:20,267
So all the data
are fetched from--

441
00:22:20,267 --> 00:22:23,367
so today from
a MyScale database.

442
00:22:23,367 --> 00:22:25,701
But by changing this class,
you can--

443
00:22:25,701 --> 00:22:27,501
as long as the data
is in the same format--

444
00:22:27,501 --> 00:22:31,601
you could easily tie it in
to another data source.

445
00:22:31,601 --> 00:22:34,133
So the first thing
is that it--

446
00:22:34,133 --> 00:22:37,434
it asks for all the data
it needs to make the map,

447
00:22:37,434 --> 00:22:40,033
and then the parameters--
thematic mapping parameters--

448
00:22:40,033 --> 00:22:43,701
and the data are handed
over to the engine,

449
00:22:43,701 --> 00:22:46,300
which then stores
the KM set file

450
00:22:46,300 --> 00:22:48,000
on just the file server.

451
00:22:53,901 --> 00:22:58,300
So this is an example
of how we can use the API.

452
00:22:58,300 --> 00:23:00,234
So this is actually
all the code

453
00:23:00,234 --> 00:23:02,601
required to make
a choropleth map

454
00:23:02,601 --> 00:23:05,567
with a legend and title
and everything.

455
00:23:05,567 --> 00:23:07,868
So basically what you do
is to include

456
00:23:07,868 --> 00:23:12,734
the two classes
and then you--

457
00:23:12,734 --> 00:23:14,567
this is the, uh, number

458
00:23:14,567 --> 00:23:16,200
for identify--
for the indicator

459
00:23:16,200 --> 00:23:19,534
and the year, and then
you add the parameters

460
00:23:19,534 --> 00:23:22,367
of how we want
the map to be.

461
00:23:22,367 --> 00:23:25,968
And then you are asking
for the map here

462
00:23:25,968 --> 00:23:29,200
by passing the--the data store
and the parameters.

463
00:23:35,901 --> 00:23:38,601
I will not go into detail,
but this is, um--

464
00:23:38,601 --> 00:23:42,267
this one is showing
how the structure

465
00:23:42,267 --> 00:23:45,534
of the KML is--
how it's--it's made.

466
00:23:45,534 --> 00:23:48,667
So basically it takes--
to make--it makes the--

467
00:23:48,667 --> 00:23:50,767
all the shared styles first

468
00:23:50,767 --> 00:23:53,267
for each
thematic mapping technique,

469
00:23:53,267 --> 00:23:55,767
and then it's two loops--

470
00:23:55,767 --> 00:23:59,767
uh, one, the outermost loops
is for each year

471
00:23:59,767 --> 00:24:01,868
and the innermost loop
is for each feature

472
00:24:01,868 --> 00:24:03,033
and country.

473
00:24:03,033 --> 00:24:05,701
And then it adds a place mark
for each country

474
00:24:05,701 --> 00:24:07,734
in the--
in the inner loop.

475
00:24:07,734 --> 00:24:10,234
This is just how
this is structured.

476
00:24:14,868 --> 00:24:17,901
Uh, the legends--
that was a challenge

477
00:24:17,901 --> 00:24:23,067
because KML has no support
for HTML overlays.

478
00:24:23,067 --> 00:24:25,000
It will only
support images.

479
00:24:25,000 --> 00:24:28,667
So what I had to do is
to generate on the fly

480
00:24:28,667 --> 00:24:30,934
a PNG image
on the server.

481
00:24:30,934 --> 00:24:34,334
So then I used
a GD open-sourced library

482
00:24:34,334 --> 00:24:35,901
to make these legends,

483
00:24:35,901 --> 00:24:38,100
and then packed it with the--
with the other files

484
00:24:38,100 --> 00:24:39,701
in the--in the KM sets.

485
00:24:43,901 --> 00:24:47,067
So this is, uh,
my suggestions

486
00:24:47,067 --> 00:24:50,434
for how Google Earth
could be improved.

487
00:24:50,434 --> 00:24:53,601
Um, the first thing
is the icon size

488
00:24:53,601 --> 00:24:56,701
of the different viewports
that I demonstrate.

489
00:24:56,701 --> 00:24:59,701
Um, I'm not sure if
there is a special reason

490
00:24:59,701 --> 00:25:01,934
for this behavior
or if it's possible to--

491
00:25:01,934 --> 00:25:03,634
to be solved.

492
00:25:03,634 --> 00:25:05,534
Uh, then another one
is that it's--

493
00:25:05,534 --> 00:25:07,400
it's really important
for thematic maps--

494
00:25:07,400 --> 00:25:09,267
for the user
to be able to access

495
00:25:09,267 --> 00:25:12,367
or to find--
see the value of the symbol,

496
00:25:12,367 --> 00:25:13,934
so it's crucial
that the user

497
00:25:13,934 --> 00:25:15,467
can actually click
on the symbol

498
00:25:15,467 --> 00:25:18,367
and then see the value
behind that symbol.

499
00:25:18,367 --> 00:25:21,267
and so far it's--
it's only really working

500
00:25:21,267 --> 00:25:23,567
for, uh, the image icons.

501
00:25:23,567 --> 00:25:24,934
You can click
on the polygons

502
00:25:24,934 --> 00:25:26,934
but you need to press
the "Control" button,

503
00:25:26,934 --> 00:25:29,701
and I don't think, like,
the--many users

504
00:25:29,701 --> 00:25:31,667
really know about it.

505
00:25:31,667 --> 00:25:34,133
And also, the other problem--
the extruded polygons.

506
00:25:34,133 --> 00:25:35,601
If you click on them,

507
00:25:35,601 --> 00:25:38,234
it's not--you can't click on,
like, click on the wall

508
00:25:38,234 --> 00:25:40,133
or click on the roof
of the polygon.

509
00:25:40,133 --> 00:25:43,467
It will only identify
the click on the ground.

510
00:25:43,467 --> 00:25:46,467
So it's really hard to
be able to click correctly

511
00:25:46,467 --> 00:25:48,300
on the prism.

512
00:25:48,300 --> 00:25:49,968
And the same with
the Collada models.

513
00:25:49,968 --> 00:25:51,801
It would be really great
if you could actually click

514
00:25:51,801 --> 00:25:54,667
on the--on the model and
then open the--the balloon

515
00:25:54,667 --> 00:25:57,501
as--as with an icon.

516
00:25:57,501 --> 00:26:02,601
Um, another suggestion
is to have more base maps

517
00:26:02,601 --> 00:26:05,667
because, for thematic maps,
it's--it's really important

518
00:26:05,667 --> 00:26:07,968
that symbols are in focus

519
00:26:07,968 --> 00:26:10,334
and the default satellite
imagery, it's--

520
00:26:10,334 --> 00:26:13,467
it's very busy,
in a way.

521
00:26:13,467 --> 00:26:16,100
Uh, so it's--
it's kind of hard.

522
00:26:16,100 --> 00:26:18,000
It's not a big contrast
between the background

523
00:26:18,000 --> 00:26:19,067
and the symbols.

524
00:26:19,067 --> 00:26:20,667
So what I did here
was to use

525
00:26:20,667 --> 00:26:24,267
the NASA, uh, City Lights.

526
00:26:24,267 --> 00:26:26,167
So it--what would
be nice is to maybe

527
00:26:26,167 --> 00:26:28,467
to have a few more options,

528
00:26:28,467 --> 00:26:30,601
and maybe some en-entry
that is not so--

529
00:26:30,601 --> 00:26:32,267
for example, the one
you have for Google Maps

530
00:26:32,267 --> 00:26:35,167
for--for topography.

531
00:26:35,167 --> 00:26:37,634
Uh, it's much better to use
for thematic maps

532
00:26:37,634 --> 00:26:40,567
than the satellite imagery.

533
00:26:40,567 --> 00:26:44,133
And lastly,
it would be nice

534
00:26:44,133 --> 00:26:46,100
if you could have,
maybe, for example,

535
00:26:46,100 --> 00:26:47,901
a Google Legend API

536
00:26:47,901 --> 00:26:50,200
like you have
the Google Chart API.

537
00:26:50,200 --> 00:26:52,968
So as long as you--
you have to--

538
00:26:52,968 --> 00:26:54,834
as long as you--
there is no KML support

539
00:26:54,834 --> 00:26:57,167
for HTML overlays,
it would be nice

540
00:26:57,167 --> 00:26:58,634
if you could do this
as a service

541
00:26:58,634 --> 00:27:01,000
as with Google Chart API

542
00:27:01,000 --> 00:27:03,834
to--to generate legends
on the fly.

543
00:27:03,834 --> 00:27:06,634
It will be much easier
for the--for the users.

544
00:27:10,534 --> 00:27:14,634
I will show you
one more application

545
00:27:14,634 --> 00:27:16,634
that is called
the "Earth Atlas,"

546
00:27:16,634 --> 00:27:21,400
which is also available,
uh, for download, open-source.

547
00:27:31,968 --> 00:27:33,400
And I think that's
the great thing

548
00:27:33,400 --> 00:27:36,901
with the new Google Earth,
uh, API--

549
00:27:36,901 --> 00:27:41,434
is that you are able to build
your own mapping interface.

550
00:27:41,434 --> 00:27:43,267
And you, um,
have much more control.

551
00:27:43,267 --> 00:27:45,634
For example, when you
just give the KML file

552
00:27:45,634 --> 00:27:48,200
to the user, you kind of--
you are--

553
00:27:48,200 --> 00:27:50,334
you can't really guide
a user in Google Earth

554
00:27:50,334 --> 00:27:51,767
in an easy way.

555
00:27:51,767 --> 00:27:54,701
So what I've done here
is to kind of make

556
00:27:54,701 --> 00:27:58,267
a little Google Earth-like
interface in the browser

557
00:27:58,267 --> 00:28:02,601
using a library
called "Ext."

558
00:28:02,601 --> 00:28:04,534
So here we'll see
you will have

559
00:28:04,534 --> 00:28:07,667
the possibility
to open and close

560
00:28:07,667 --> 00:28:09,601
and have various
options here.

561
00:28:09,601 --> 00:28:11,234
So you can,
for example,

562
00:28:11,234 --> 00:28:14,400
select infant mortality

563
00:28:14,400 --> 00:28:17,167
right--right here
in the browser.

564
00:28:17,167 --> 00:28:21,400
And you can also choose
between different backgrounds.

565
00:28:21,400 --> 00:28:24,501
So you have the
Earth City Lights here.

566
00:28:24,501 --> 00:28:26,100
It's loading.

567
00:28:30,934 --> 00:28:33,667
Okay. Don't think
that's working now.

568
00:28:33,667 --> 00:28:35,200
And you also have access

569
00:28:35,200 --> 00:28:38,767
to all the Google
Earth functionalities.

570
00:28:38,767 --> 00:28:41,901
So you can turn
on and on borders

571
00:28:41,901 --> 00:28:46,734
and have the various
options here on top.

572
00:28:46,734 --> 00:28:49,067
So it's very easy
for the user to--

573
00:28:49,067 --> 00:28:52,133
to have access
to the Google Earth API.

574
00:28:56,901 --> 00:28:58,767
Okay.
Here, it's coming.

575
00:29:09,400 --> 00:29:11,801
Okay.
That was all.

576
00:29:11,801 --> 00:29:13,400
But we'll
have some time for--

577
00:29:13,400 --> 00:29:14,801
if there is
any questions.

578
00:29:19,734 --> 00:29:22,467
man:
Um, I see you've read
a couple of lines of...

579
00:29:22,467 --> 00:29:23,467
Sandvik:
Pardon?

580
00:29:23,467 --> 00:29:25,200
man:
Have you read...

581
00:29:25,200 --> 00:29:27,434
[speaking indistinctly]

582
00:29:27,434 --> 00:29:30,767
Um, how are you addressing
the issue of normalization?

583
00:29:30,767 --> 00:29:34,868
[speaking indistinctly]

584
00:29:34,868 --> 00:29:36,133
Sandvik:
[sighs]

585
00:29:36,133 --> 00:29:39,567
There is a problem here
because it's kind of--

586
00:29:39,567 --> 00:29:40,701
what I'm actually doing

587
00:29:40,701 --> 00:29:42,968
is to give
the cartographic tool box

588
00:29:42,968 --> 00:29:44,701
to the user, so in a way,

589
00:29:44,701 --> 00:29:47,267
I'm--I'm kind of
expecting the user--

590
00:29:47,267 --> 00:29:50,534
that the user is knowing
what he or she is doing.

591
00:29:50,534 --> 00:29:54,067
So...

592
00:29:54,067 --> 00:29:57,267
yeah.

593
00:29:57,267 --> 00:30:00,767
So some of the indicators
that are available

594
00:30:00,767 --> 00:30:03,167
are normalized
and others are not.

595
00:30:03,167 --> 00:30:05,934
So, in a way,
I'm kind of suggesting

596
00:30:05,934 --> 00:30:09,067
I'm--I'm expecting
the user to know

597
00:30:09,067 --> 00:30:11,300
what will be
a correct view or not.

598
00:30:11,300 --> 00:30:12,567
[murmurs]

599
00:30:18,133 --> 00:30:21,667
man #2:
[speaking indistinctly]

600
00:30:21,667 --> 00:30:22,767
Sandvik:
Is more--

601
00:30:22,767 --> 00:30:23,834
man #2:
[speaking indistinctly]

602
00:30:23,834 --> 00:30:25,067
Sandvik:
Than the other.

603
00:30:25,067 --> 00:30:28,434
Um, I think
the mostly popular one

604
00:30:28,434 --> 00:30:31,234
but also misused
is the choropleths.

605
00:30:31,234 --> 00:30:33,834
Uh, when I had presented
these on the blog,

606
00:30:33,834 --> 00:30:35,767
I think I got, like,
the most attention

607
00:30:35,767 --> 00:30:37,033
on the prism maps.

608
00:30:37,033 --> 00:30:39,601
People like that--
that map.

609
00:30:39,601 --> 00:30:42,100
But the--that was also--
this is also

610
00:30:42,100 --> 00:30:44,267
the techniques
were also criticized,

611
00:30:44,267 --> 00:30:46,267
especially the--
the prism maps

612
00:30:46,267 --> 00:30:49,534
and maybe also
the Collada objects--

613
00:30:49,534 --> 00:30:52,567
especially because this
is done in a 3-D interface,

614
00:30:52,567 --> 00:30:54,501
and you have the problem

615
00:30:54,501 --> 00:30:57,667
that it's not only
the size of the symbol--

616
00:30:57,667 --> 00:31:00,200
it's not only
the statistical value

617
00:31:00,200 --> 00:31:02,067
that is affecting
the size of the symbol--

618
00:31:02,067 --> 00:31:06,767
it's also the distance
from, uh, the viewpoints.

619
00:31:06,767 --> 00:31:08,567
So if it's further away,

620
00:31:08,567 --> 00:31:10,267
the symbols will be smaller.

621
00:31:10,267 --> 00:31:12,467
But that's--that's a good
thing about image icons,

622
00:31:12,467 --> 00:31:14,968
because they're not
affected by perspectives.

623
00:31:14,968 --> 00:31:17,033
So when you have
the circles that I showed you,

624
00:31:17,033 --> 00:31:18,968
they will have
the same size

625
00:31:18,968 --> 00:31:22,934
uh, when--when
they're visualized.

626
00:31:22,934 --> 00:31:25,968
man #3:
[speaking indistinctly]

627
00:31:25,968 --> 00:31:27,400
Sandvik:
What I mean by "misused"?

628
00:31:27,400 --> 00:31:30,634
man #3:
Choropleths...

629
00:31:30,634 --> 00:31:33,267
Sandvik:
Um, especially
also like a problem

630
00:31:33,267 --> 00:31:37,033
with normalization,
uh, and other issues.

631
00:31:37,033 --> 00:31:39,734
For example, um...

632
00:31:39,734 --> 00:31:43,834
a--a large country
will have a lot of focus

633
00:31:43,834 --> 00:31:47,167
because it's, like,
taking a lot of space

634
00:31:47,167 --> 00:31:49,234
[chuckles]
on the screen.

635
00:31:49,234 --> 00:31:52,067
Uh, and--but by--
but, if you,

636
00:31:52,067 --> 00:31:54,367
for example,
use a proportional symbol--

637
00:31:54,367 --> 00:31:57,334
and especially
if it's also, uh...

638
00:31:57,334 --> 00:31:59,133
you had these techniques
with the bars,

639
00:31:59,133 --> 00:32:02,167
where you could have
the radius or the diameter

640
00:32:02,167 --> 00:32:03,501
showing the population--

641
00:32:03,501 --> 00:32:06,167
you will have
a more correct view.

642
00:32:06,167 --> 00:32:07,367
Uh...

643
00:32:16,334 --> 00:32:17,601
Mmm?

644
00:32:17,601 --> 00:32:20,267
man #4:
So, um, do you--
so as far as

645
00:32:20,267 --> 00:32:21,634
the web service part goes,

646
00:32:21,634 --> 00:32:23,968
have you given it thought
as to, I mean--

647
00:32:23,968 --> 00:32:26,334
do you actually plan on
creating a web server?

648
00:32:26,334 --> 00:32:27,467
Or have you
thought about it?

649
00:32:27,467 --> 00:32:28,934
Sandvik:
[chuckles]

650
00:32:28,934 --> 00:32:31,267
man #4:
Maybe platforms, too?

651
00:32:31,267 --> 00:32:34,033
Sandvik:
Um, right now
I have not yet decided

652
00:32:34,033 --> 00:32:35,267
what to do.

653
00:32:35,267 --> 00:32:37,667
Uh, and it's also,
like, a matter of time

654
00:32:37,667 --> 00:32:40,367
and finance how much
I will continue on.

655
00:32:40,367 --> 00:32:42,200
My--my--
what I like the most

656
00:32:42,200 --> 00:32:45,133
is to actually make
the visualizations,

657
00:32:45,133 --> 00:32:47,400
uh, more than
the code behind, so.

658
00:32:47,400 --> 00:32:49,267
I think it would be--

659
00:32:49,267 --> 00:32:51,734
I would let it--give that
task to someone else

660
00:32:51,734 --> 00:32:54,901
maybe to make this
as a web service.

661
00:32:54,901 --> 00:32:57,634
Hmm.

662
00:32:57,634 --> 00:32:59,300
man #5:
Can you talk about
that data source?

663
00:32:59,300 --> 00:33:02,367
[speaking indistinctly]

664
00:33:02,367 --> 00:33:04,601
The U.N. database...

665
00:33:04,601 --> 00:33:06,200
Sandvik:
Yeah, I forgot to mention

666
00:33:06,200 --> 00:33:10,100
all the data is from
the U.N. data portal

667
00:33:10,100 --> 00:33:13,067
that was just launched
back in February.

668
00:33:13,067 --> 00:33:16,200
And, um, it's
a great service.

669
00:33:16,200 --> 00:33:17,534
But they--
they don't have any

670
00:33:17,534 --> 00:33:18,868
visualization capabilities.

671
00:33:18,868 --> 00:33:22,501
But you can download
the data in an XML format.

672
00:33:22,501 --> 00:33:24,400
So I just
wrote the script--

673
00:33:24,400 --> 00:33:28,534
well, I uploaded this data
to the MyScale database.

674
00:33:28,534 --> 00:33:32,667
Um, so basically,
that's what I'm doing--

675
00:33:32,667 --> 00:33:34,234
been doing.

676
00:33:34,234 --> 00:33:38,234
man #6:
How easy is that...

677
00:33:38,234 --> 00:33:40,033
Sandvik:
Um, it's not too difficult.

678
00:33:40,033 --> 00:33:43,667
It's, uh--the--
it's explained

679
00:33:43,667 --> 00:33:45,300
in the documentation.

680
00:33:45,300 --> 00:33:47,801
But basically
what the script--

681
00:33:47,801 --> 00:33:49,534
the--this data connector
is doing

682
00:33:49,534 --> 00:33:51,634
is that it's querying
the database

683
00:33:51,634 --> 00:33:54,968
and then it's making
an associative array

684
00:33:54,968 --> 00:33:56,734
of the data.

685
00:33:56,734 --> 00:33:58,701
So as long as--
if you write another script

686
00:33:58,701 --> 00:34:02,200
and just--returns
the same array of data,

687
00:34:02,200 --> 00:34:03,968
you can feed it
into the engine and it's--

688
00:34:03,968 --> 00:34:05,033
it shouldn't complain.

689
00:34:05,033 --> 00:34:07,567
[chuckles]

690
00:34:07,567 --> 00:34:09,534
man #7:
What would it take to do
a Python interface?

691
00:34:09,534 --> 00:34:10,968
[speaking indistinctly]

692
00:34:10,968 --> 00:34:13,834
Sandvik:
Um, yeah.
I know Google loves Python.

693
00:34:13,834 --> 00:34:15,534
More than PHP.
[laughs]

694
00:34:15,534 --> 00:34:17,734
Um, I don't know.

695
00:34:17,734 --> 00:34:23,534
It's--this is about,
maybe 1,500 lines of code.

696
00:34:23,534 --> 00:34:27,667
Mmm.

697
00:34:27,667 --> 00:34:29,300
man #7:
And the source is already...

698
00:34:29,300 --> 00:34:31,200
Sandvik:
Yeah, the source
is available, yeah.

699
00:34:33,667 --> 00:34:35,133
man #8:
Can you cover
your choice of buttons

700
00:34:35,133 --> 00:34:39,234
that you used
throughout...

701
00:34:39,234 --> 00:34:40,868
Sandvik:
[murmurs]

702
00:34:40,868 --> 00:34:44,200
I--the--the main reason
for having GPL

703
00:34:44,200 --> 00:34:48,868
is that I'm using
the Ext JavaScript library,

704
00:34:48,868 --> 00:34:51,100
and that is GPL licensed.

705
00:34:51,100 --> 00:34:53,801
So in a way,
to be able to use that one,

706
00:34:53,801 --> 00:34:56,534
I had to choose
the same license.

707
00:34:56,534 --> 00:34:58,701
But it would be possible
to choose another license

708
00:34:58,701 --> 00:35:01,334
for the server
part of the--

709
00:35:01,334 --> 00:35:03,200
so if you're not using
the web interface

710
00:35:03,200 --> 00:35:06,334
but only the API,
PHP API--

711
00:35:06,334 --> 00:35:08,067
but, uh, for simplicity
I decided

712
00:35:08,067 --> 00:35:10,234
to have the same license.

713
00:35:10,234 --> 00:35:11,567
Mmm.

714
00:35:11,567 --> 00:35:13,567
man #9:
There are--how many
types of visualizations

715
00:35:13,567 --> 00:35:16,234
can the KML system support?

716
00:35:16,234 --> 00:35:18,634
Sandvik:
That KML supports--

717
00:35:18,634 --> 00:35:19,968
man #9:
That KML doesn't support.

718
00:35:19,968 --> 00:35:21,701
Things it'd like
to do that...

719
00:35:21,701 --> 00:35:23,934
[speaking indistinctly]

720
00:35:23,934 --> 00:35:24,968
Or--or does it...

721
00:35:24,968 --> 00:35:27,400
[speaking indistinctly]

722
00:35:27,400 --> 00:35:28,501
Sandvik:
I think it--

723
00:35:28,501 --> 00:35:29,601
man #9:
Or just thematic maps.

724
00:35:29,601 --> 00:35:30,934
Sandvik:
It's a lot--it's--

725
00:35:30,934 --> 00:35:34,267
it's not really tailored
towards thematic mapping.

726
00:35:34,267 --> 00:35:36,567
In--and thematic mapping
is--is not mentioned

727
00:35:36,567 --> 00:35:40,467
in the--in the standard
document.

728
00:35:40,467 --> 00:35:42,734
But there are
some flexible structures

729
00:35:42,734 --> 00:35:44,501
that you are able to use.

730
00:35:44,501 --> 00:35:45,901
But still
it's quite complicated,

731
00:35:45,901 --> 00:35:48,000
and it's a little bit--
especially how

732
00:35:48,000 --> 00:35:50,501
everything is--
is mixed together

733
00:35:50,501 --> 00:35:53,434
with the styles
and the attributes

734
00:35:53,434 --> 00:35:54,801
and the data.

735
00:35:54,801 --> 00:35:57,367
So it will be
much cleaner, for example,

736
00:35:57,367 --> 00:36:00,133
because you have to give
an altitude in meters,

737
00:36:00,133 --> 00:36:02,167
uh, well,
for the prism maps.

738
00:36:02,167 --> 00:36:03,467
It will be much better

739
00:36:03,467 --> 00:36:05,901
if you have
a more flexible structure

740
00:36:05,901 --> 00:36:07,667
just so you could
store the data,

741
00:36:07,667 --> 00:36:10,400
and maybe the connections
between the data

742
00:36:10,400 --> 00:36:13,033
and the height,
for example, separately.

743
00:36:13,033 --> 00:36:14,801
Uh, so I think there is,
really,

744
00:36:14,801 --> 00:36:16,868
a lot of improvements.

745
00:36:16,868 --> 00:36:19,234
But what I like about KML--
it's quite simple

746
00:36:19,234 --> 00:36:21,734
and ef-efficient
to use, so.

747
00:36:21,734 --> 00:36:24,234
Uh, yeah,
I'm not sure what--

748
00:36:24,234 --> 00:36:28,767
what would be
the best way to go.

749
00:36:28,767 --> 00:36:30,501
man #10:
We saw with the mapping
of the countries,

750
00:36:30,501 --> 00:36:32,501
that the environmental
issue's been covered--

751
00:36:32,501 --> 00:36:37,067
um, non-country regions,
the oceans, boats.

752
00:36:37,067 --> 00:36:38,634
Sandvik:
Mmm.

753
00:36:38,634 --> 00:36:40,234
man #10:
Does this extend
to that easily?

754
00:36:40,234 --> 00:36:41,334
What do you...

755
00:36:41,334 --> 00:36:42,701
[speaking indistinctly]

756
00:36:42,701 --> 00:36:44,601
Sandvik:
You need different data.

757
00:36:44,601 --> 00:36:47,667
I haven't looked, uh,
a lot into that issue.

758
00:36:47,667 --> 00:36:48,834
But you have, like,

759
00:36:48,834 --> 00:36:50,834
other thematic mapping
techniques for that.

760
00:36:50,834 --> 00:36:53,367
Like the asymmetric maps,

761
00:36:53,367 --> 00:36:54,834
where you--
where you don't have

762
00:36:54,834 --> 00:36:56,634
country regions,
but you have regions

763
00:36:56,634 --> 00:36:59,100
following
the data themselves.

764
00:36:59,100 --> 00:37:00,133
And--

765
00:37:00,133 --> 00:37:01,467
man #10:
Atmosphere.

766
00:37:01,467 --> 00:37:03,767
Sandvik:
Yeah, so--
and it is possible.

767
00:37:03,767 --> 00:37:05,467
But then you need--

768
00:37:05,467 --> 00:37:07,133
because what I--
basically what I need

769
00:37:07,133 --> 00:37:09,400
is to have--how you have used
all the country borders.

770
00:37:09,400 --> 00:37:11,634
So then you need, uh,
the boundary data

771
00:37:11,634 --> 00:37:12,834
to be able to do it.

772
00:37:12,834 --> 00:37:15,000
What many people do
is they just, uh,

773
00:37:15,000 --> 00:37:17,834
make raster tiles,
for example,

774
00:37:17,834 --> 00:37:20,167
because that we can use--
do for everything.

775
00:37:20,167 --> 00:37:21,367
But I like especially if--

776
00:37:21,367 --> 00:37:23,100
if it's improved
that you can actually

777
00:37:23,100 --> 00:37:24,234
click on all the elements,

778
00:37:24,234 --> 00:37:26,801
I think use the vector
features of KML

779
00:37:26,801 --> 00:37:27,968
is much more efficient,

780
00:37:27,968 --> 00:37:29,701
because the user
can interact with the--

781
00:37:29,701 --> 00:37:32,133
with the maps in--
in a different way.

