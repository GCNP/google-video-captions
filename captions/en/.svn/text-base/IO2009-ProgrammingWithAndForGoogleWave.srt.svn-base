1
00:00:00,601 --> 00:00:01,801
Osinga: Hello, everyone.

2
00:00:01,801 --> 00:00:03,834
Hi.
[laughs]

3
00:00:03,834 --> 00:00:06,334
Um...whoa.
This is a little loud.

4
00:00:06,334 --> 00:00:10,934
Welcome to the API talk,
the talk where we explain

5
00:00:10,934 --> 00:00:14,467
how you can program
for and with Wave,

6
00:00:14,467 --> 00:00:17,434
how you can build applications
that interact with Wave.

7
00:00:17,434 --> 00:00:20,400
Before I get started,
I'd like to remind you

8
00:00:20,400 --> 00:00:23,701
that you can put feedback
on this presentation

9
00:00:23,701 --> 00:00:26,834
on www.haveasec.com/io.

10
00:00:26,834 --> 00:00:31,467
And we'd really appreciate that
if you do that.

11
00:00:31,467 --> 00:00:35,567
So, um...
yeah, let's get started.

12
00:00:38,901 --> 00:00:42,033
There we go.
So yeah.

13
00:00:45,567 --> 00:00:48,000
As I cannot stress enough,

14
00:00:48,000 --> 00:00:52,033
this is a developer preview.

15
00:00:52,033 --> 00:00:58,033
We'll start giving out accounts
on wavesandbox.com, um...

16
00:00:58,033 --> 00:01:02,033
anywhere from now
and next week or so.

17
00:01:02,033 --> 00:01:05,634
You're all invited to explore
Google Docs

18
00:01:05,634 --> 00:01:07,400
with the API descriptions
on them.

19
00:01:07,400 --> 00:01:10,400
They should be live already.

20
00:01:10,400 --> 00:01:13,901
Also we have a blog site
that gives you more information.

21
00:01:13,901 --> 00:01:17,200
And you'll get an email
at some point

22
00:01:17,200 --> 00:01:19,534
with instructions
as to how to sign into

23
00:01:19,534 --> 00:01:23,033
this wavesandbox.com domain

24
00:01:23,033 --> 00:01:25,200
where you'll find the client

25
00:01:25,200 --> 00:01:28,868
that you saw in the
demonstration this morning,

26
00:01:28,868 --> 00:01:31,701
and that should allow you to...

27
00:01:31,701 --> 00:01:33,934
interact with using, you know,
building robots

28
00:01:33,934 --> 00:01:38,334
and extensions and all
that sort of goodness.

29
00:01:38,334 --> 00:01:42,067
Yeah.
So...Wave building.

30
00:01:42,067 --> 00:01:47,400
This is...
the Wave Building in Australia.

31
00:01:47,400 --> 00:01:51,400
I, um, I'm personally
always a fan of building slides

32
00:01:51,400 --> 00:01:53,334
that have mostly
a picture in them,

33
00:01:53,334 --> 00:01:55,000
and then I tell the story
about it.

34
00:01:55,000 --> 00:01:56,334
But I was told that

35
00:01:56,334 --> 00:01:58,367
I couldn't do that
for this presentation

36
00:01:58,367 --> 00:02:01,067
since people would be looking
at the presentation afterwards.

37
00:02:01,067 --> 00:02:03,667
This is sort of like the only
reminder that they have.

38
00:02:03,667 --> 00:02:05,400
It's fitting because,
you know,

39
00:02:05,400 --> 00:02:08,367
we're talking about how you can
build stuff on top of Wave,

40
00:02:08,367 --> 00:02:11,000
and our team
is based in Australia.

41
00:02:11,000 --> 00:02:13,567
So I thought
I'd slip it in anyway.

42
00:02:17,200 --> 00:02:18,834
So before you get--

43
00:02:18,834 --> 00:02:21,367
do a dive into
the various APIs that we have,

44
00:02:21,367 --> 00:02:23,934
I thought it might be
a good idea to take a moment

45
00:02:23,934 --> 00:02:26,267
and look at what a Wave is

46
00:02:26,267 --> 00:02:28,634
from an architectural
perspective,

47
00:02:28,634 --> 00:02:30,400
other than the pretty pictures

48
00:02:30,400 --> 00:02:32,300
that Lars showed you
this morning.

49
00:02:32,300 --> 00:02:36,801
So a Wave is actually...
not much.

50
00:02:36,801 --> 00:02:39,367
It's an envelope
that has wavelets in them

51
00:02:39,367 --> 00:02:41,334
for the physicist under you,
that might be--

52
00:02:41,334 --> 00:02:42,901
physics students under you,

53
00:02:42,901 --> 00:02:44,367
that might be
a little confusing,

54
00:02:44,367 --> 00:02:45,634
because wavelets
are already used

55
00:02:45,634 --> 00:02:47,667
for something else there too.

56
00:02:47,667 --> 00:02:49,534
Hey, what can I say?

57
00:02:49,534 --> 00:02:54,167
So essentially,
a wavelet is a complete Wave

58
00:02:54,167 --> 00:02:56,367
and has participants on them.

59
00:02:56,367 --> 00:02:59,334
And the reason that we split
waves up in wavelets

60
00:02:59,334 --> 00:03:01,200
is to manage permissions.

61
00:03:01,200 --> 00:03:02,634
So each wavelet--

62
00:03:02,634 --> 00:03:05,334
each wavelet
has the same permissions,

63
00:03:05,334 --> 00:03:07,667
and the permissions are usually
assigned to the participants.

64
00:03:07,667 --> 00:03:09,901
So in this case,
we have one Wave...

65
00:03:09,901 --> 00:03:12,133
with the top thing
has five participants

66
00:03:12,133 --> 00:03:15,100
and, you know, there's some sort
of discussion going on there

67
00:03:15,100 --> 00:03:19,067
about what to get for
food this evening.

68
00:03:19,067 --> 00:03:21,000
And then you can see
the second wavelet,

69
00:03:21,000 --> 00:03:22,667
which has a subset
of the participant

70
00:03:22,667 --> 00:03:24,367
of the first ones on it.

71
00:03:24,367 --> 00:03:26,100
And there you see that,
you know,

72
00:03:26,100 --> 00:03:28,367
these two guys think that,
actually...

73
00:03:28,367 --> 00:03:31,200
you know, let's not get pizza,
have to get Mexican food.

74
00:03:31,200 --> 00:03:34,667
So to the clients, this will
look like a private reply,

75
00:03:34,667 --> 00:03:38,200
as you might remember
from the demo this morning.

76
00:03:41,934 --> 00:03:47,033
Now, we have two types
of APIs and, um,

77
00:03:47,033 --> 00:03:48,534
the first one is embedding.

78
00:03:48,534 --> 00:03:51,767
The second one is extensions.

79
00:03:51,767 --> 00:03:54,400
I like to say that,
you know, with embedding,

80
00:03:54,400 --> 00:03:57,234
you can take Wave
and put it out in the world.

81
00:03:57,234 --> 00:03:59,467
And with extensions,
you can take bits of the world

82
00:03:59,467 --> 00:04:00,901
and put it in Wave.

83
00:04:00,901 --> 00:04:04,667
So the embedding API is...

84
00:04:04,667 --> 00:04:07,734
is much inspired
on the Google Maps API

85
00:04:07,734 --> 00:04:11,400
and lets you take a Wave
that you have

86
00:04:11,400 --> 00:04:13,767
and display it
on your website.

87
00:04:13,767 --> 00:04:18,701
This is a very simple schema
describing that.

88
00:04:18,701 --> 00:04:22,834
So this is a, supposedly,
chess site

89
00:04:22,834 --> 00:04:26,868
where we have a tiny bit
of script include,

90
00:04:26,868 --> 00:04:29,234
which is the library
that we provide,

91
00:04:29,234 --> 00:04:30,934
that you put on
your website.

92
00:04:30,934 --> 00:04:34,601
You then tell this,
you know, what to do

93
00:04:34,601 --> 00:04:36,367
and in reaction to that,

94
00:04:36,367 --> 00:04:38,901
that piece of script
goes to ahead

95
00:04:38,901 --> 00:04:42,534
and essentially, it's a complete
version of our client

96
00:04:42,534 --> 00:04:44,567
minus all the chrome
around it.

97
00:04:44,567 --> 00:04:47,300
And that thing lives
in an iframe

98
00:04:47,300 --> 00:04:49,501
and communicates
with the Wave Server

99
00:04:49,501 --> 00:04:50,934
so that you get
all the liveness

100
00:04:50,934 --> 00:04:54,200
and all that sort of thing
for free.

101
00:04:54,200 --> 00:04:56,601
I have to say that the API

102
00:04:56,601 --> 00:04:58,501
that we're going
live with right now

103
00:04:58,501 --> 00:05:00,667
is fairly restricted.

104
00:05:00,667 --> 00:05:02,200
We're still working on this,

105
00:05:02,200 --> 00:05:05,067
and over the coming
weeks or months,

106
00:05:05,067 --> 00:05:06,767
we hope that we can expand it

107
00:05:06,767 --> 00:05:08,667
and to make
a lot more possible.

108
00:05:08,667 --> 00:05:11,167
So right now
you can load a Wave.

109
00:05:11,167 --> 00:05:12,801
You can set
the UI configuration

110
00:05:12,801 --> 00:05:15,000
of, you know, how you
want to display that Wave.

111
00:05:15,000 --> 00:05:18,100
You can add a reply,
and you can follow.

112
00:05:18,100 --> 00:05:20,267
Now, these last two things
need a little explanation,

113
00:05:20,267 --> 00:05:22,000
because actually,
what they do

114
00:05:22,000 --> 00:05:24,868
is they let the page
that you embed the Wave on

115
00:05:24,868 --> 00:05:30,834
request the Wave client
that sits in that page

116
00:05:30,834 --> 00:05:34,100
to add the current user
to that Wave

117
00:05:34,100 --> 00:05:35,968
so that the current user
follows that Wave

118
00:05:35,968 --> 00:05:38,434
or requests the current user

119
00:05:38,434 --> 00:05:41,200
to create a reply
inside of that Wave.

120
00:05:41,200 --> 00:05:43,200
So this way you can,
as a developer,

121
00:05:43,200 --> 00:05:44,934
you put a little button on there
saying reply.

122
00:05:44,934 --> 00:05:46,567
And what happens, in fact,

123
00:05:46,567 --> 00:05:49,968
is that the person that is
logged into the Wave client

124
00:05:49,968 --> 00:05:53,000
replies by clicking that.

125
00:05:53,000 --> 00:05:56,334
So here's a bit
of a example code...

126
00:06:01,300 --> 00:06:05,033
of how that works in...
practice.

127
00:06:05,033 --> 00:06:07,234
So we start by having--

128
00:06:07,234 --> 00:06:09,434
Oh! I did not know
that would happen.

129
00:06:09,434 --> 00:06:12,200
So here on the top--
I wish I had a pointer.

130
00:06:12,200 --> 00:06:14,968
We have pointers?
No pointers.

131
00:06:14,968 --> 00:06:16,534
And I can't select it,

132
00:06:16,534 --> 00:06:18,067
because then I go
to the next slide.

133
00:06:18,067 --> 00:06:21,067
So here on the top,
we have a waveframe

134
00:06:21,067 --> 00:06:23,334
that is just a div

135
00:06:23,334 --> 00:06:26,200
saying like it's 500 pixels
width--500 pixels high,

136
00:06:26,200 --> 00:06:28,968
and it's, you know,
the entire width of the page.

137
00:06:28,968 --> 00:06:31,701
We include
the bit of JavaScript here

138
00:06:31,701 --> 00:06:35,634
from this bit of temporary URL
that we're currently using.

139
00:06:35,634 --> 00:06:38,133
We're working on getting
something better,

140
00:06:38,133 --> 00:06:40,667
but in the haste
to get to this event,

141
00:06:40,667 --> 00:06:43,501
it took us a little while
to get there.

142
00:06:43,501 --> 00:06:47,267
So...and then we go ahead
and we create a Wave panel.

143
00:06:47,267 --> 00:06:49,467
We request this Wave panel
to be hosted

144
00:06:49,467 --> 00:06:52,801
on the Wave Sandbox thing

145
00:06:52,801 --> 00:06:54,334
as we...you know,

146
00:06:54,334 --> 00:06:56,501
once we get to the point
where we have a public launch,

147
00:06:56,501 --> 00:06:58,367
we'd no longer
have to specify that,

148
00:06:58,367 --> 00:07:00,300
because then it would
just be the global thing.

149
00:07:00,300 --> 00:07:03,033
But right now it's only for
the developer preview,

150
00:07:03,033 --> 00:07:04,767
so you only get that bit.

151
00:07:04,767 --> 00:07:09,734
And here we get the hairy bit
of the API, load Wave,

152
00:07:09,734 --> 00:07:15,200
and you do that by specifying
a Wave ID.

153
00:07:15,200 --> 00:07:19,167
There's ways around
to get the right Wave ID.

154
00:07:19,167 --> 00:07:20,534
I'll get to that.

155
00:07:20,534 --> 00:07:22,834
And now we go ahead and we
fill the Wave panel to init

156
00:07:22,834 --> 00:07:26,934
and to put its work
on this URL here.

157
00:07:26,934 --> 00:07:32,334
So...in practice,
that looks like this thing here,

158
00:07:32,334 --> 00:07:35,734
which is the same source code
as I just showed.

159
00:07:35,734 --> 00:07:37,901
And if I double-click
that thing,

160
00:07:37,901 --> 00:07:42,100
it will go ahead...
with a little luck

161
00:07:42,100 --> 00:07:43,367
load a Wave.

162
00:07:43,367 --> 00:07:45,601
So this is a Wave
that is live on the thing,

163
00:07:45,601 --> 00:07:47,067
and it looks just like
a normal web page,

164
00:07:47,067 --> 00:07:49,334
but if I hover over it,
I can just, you know,

165
00:07:49,334 --> 00:07:52,934
go ahead and I can actually
reply to this thing.

166
00:07:55,434 --> 00:08:00,467
So that's as simple as...
as that...as embedding is.

167
00:08:00,467 --> 00:08:04,067
Now we have...added--

168
00:08:04,067 --> 00:08:06,067
like I said,
there's a few more things

169
00:08:06,067 --> 00:08:08,033
that you can do with embedding.

170
00:08:08,033 --> 00:08:09,534
Um...

171
00:08:11,400 --> 00:08:14,968
Here I added a button
to leave a comment,

172
00:08:14,968 --> 00:08:19,167
and I decided not to go with
the default styling

173
00:08:19,167 --> 00:08:22,434
but choose for
a black background

174
00:08:22,434 --> 00:08:24,534
and red lettering
and courier new

175
00:08:24,534 --> 00:08:27,334
to give it a nice
aggressive look.

176
00:08:27,334 --> 00:08:28,968
'Cause, you know,
that's always good

177
00:08:28,968 --> 00:08:31,534
for this sort of
pubic demonstrations.

178
00:08:31,534 --> 00:08:35,534
So if you load that one,
you get...

179
00:08:39,267 --> 00:08:41,334
Tch. Ta-da.

180
00:08:41,334 --> 00:08:43,534
So it's the same--
it's the same blog.

181
00:08:43,534 --> 00:08:45,667
And I can, you know,
I have--

182
00:08:45,667 --> 00:08:48,701
you can see this
in the Wave client too.

183
00:08:48,701 --> 00:08:50,601
You can see that the reply
that I just made

184
00:08:50,601 --> 00:08:52,601
is here and here's
the add comment button

185
00:08:52,601 --> 00:08:54,934
that would do
essentially the same thing

186
00:08:54,934 --> 00:08:57,334
as, uh, as before.

187
00:08:57,334 --> 00:08:58,801
Going back
to the presentation.

188
00:08:58,801 --> 00:09:00,834
So that is the--

189
00:09:00,834 --> 00:09:03,067
this is where we are
with embedding.

190
00:09:03,067 --> 00:09:07,834
Ooh, yeah.

191
00:09:07,834 --> 00:09:09,267
We have a little preview,

192
00:09:09,267 --> 00:09:11,400
developer stuff inside
of Google, of course, too,

193
00:09:11,400 --> 00:09:12,968
and somebody came up with

194
00:09:12,968 --> 00:09:15,501
this really nifty application
of embedding

195
00:09:15,501 --> 00:09:19,400
where he, uh, has taken
a normal gadget

196
00:09:19,400 --> 00:09:21,868
and put the embedding code
inside of the Google Gadget.

197
00:09:21,868 --> 00:09:25,234
So now you have this thing
that allows you

198
00:09:25,234 --> 00:09:27,834
to take a Google Wave
and put it on any website

199
00:09:27,834 --> 00:09:30,834
that supports gadgets
in a very simple way.

200
00:09:30,834 --> 00:09:33,467
And this also has the advantage
that, you know,

201
00:09:33,467 --> 00:09:35,834
he came up with a whole bunch
of user preferences

202
00:09:35,834 --> 00:09:37,367
that lets you configure

203
00:09:37,367 --> 00:09:39,067
the way that the Wave
looks in your thing.

204
00:09:39,067 --> 00:09:41,267
So instead of having to do
all the JavaScript yourself,

205
00:09:41,267 --> 00:09:44,033
you can just, you know
go ahead, insert the gadget,

206
00:09:44,033 --> 00:09:46,033
and now you get this
nice little diagram

207
00:09:46,033 --> 00:09:47,801
and, you know,
you click submit,

208
00:09:47,801 --> 00:09:50,634
and you get this Wave
on your iGoogle page.

209
00:09:50,634 --> 00:09:52,901
So if you would, you know,

210
00:09:52,901 --> 00:09:56,734
have your team meeting notes
in Google Wave

211
00:09:56,734 --> 00:10:00,300
but you normally use
iGoogle to start your day

212
00:10:00,300 --> 00:10:03,033
then you could, you know,
put that Wave in iGoogle

213
00:10:03,033 --> 00:10:05,501
and type directly there
to Wave or, you know,

214
00:10:05,501 --> 00:10:07,734
go to the Wave
client from there.

215
00:10:12,300 --> 00:10:14,234
In the demo you saw, um,

216
00:10:14,234 --> 00:10:19,868
how we used the embedding API
to extend Orkut.

217
00:10:19,868 --> 00:10:23,367
I hope I don't disappoint you
too much that, uh,

218
00:10:23,367 --> 00:10:26,100
we're not quite ready
to release that bit of the API

219
00:10:26,100 --> 00:10:27,734
that makes that possible.

220
00:10:27,734 --> 00:10:31,434
There are some security things
there that keep us from that.

221
00:10:31,434 --> 00:10:35,801
But we have a ambition
to make it completely possible

222
00:10:35,801 --> 00:10:38,767
to...essentially
build your own--

223
00:10:38,767 --> 00:10:42,567
assemble your own Wave client
using the embedding API

224
00:10:42,567 --> 00:10:46,367
and to go as far as
make it possible to embed waves

225
00:10:46,367 --> 00:10:49,834
that let your users
communicate with each other

226
00:10:49,834 --> 00:10:53,834
using Wave with their own
sort of database of waves

227
00:10:53,834 --> 00:10:56,534
without requiring your users
to log into Google,

228
00:10:56,534 --> 00:10:59,200
which is one of the things
that we currently do.

229
00:10:59,200 --> 00:11:04,167
So that we'll make it possible
to just take Wave

230
00:11:04,167 --> 00:11:06,467
and use it
for your applications,

231
00:11:06,467 --> 00:11:08,300
and, you know,
people will never have to

232
00:11:08,300 --> 00:11:11,901
first sign up
for whatever service we have.

233
00:11:11,901 --> 00:11:13,534
Okay...

234
00:11:17,100 --> 00:11:19,901
That brings us
to the bigger part of our API,

235
00:11:19,901 --> 00:11:21,434
extensions.

236
00:11:21,434 --> 00:11:26,667
So extensions are
the things that, uh,

237
00:11:26,667 --> 00:11:30,300
let you, as a developer,
extend Wave.

238
00:11:30,300 --> 00:11:32,801
Currently, we have two
types of extensions.

239
00:11:32,801 --> 00:11:35,033
We have robot and gadgets,

240
00:11:35,033 --> 00:11:40,167
and, um, the distinction is...

241
00:11:40,167 --> 00:11:42,133
really that a robot
runs on a server

242
00:11:42,133 --> 00:11:44,033
and a gadget runs
on a client.

243
00:11:44,033 --> 00:11:45,767
It still often gets
confusing,

244
00:11:45,767 --> 00:11:47,400
so hence this little
explanation here.

245
00:11:47,400 --> 00:11:50,701
So a robot runs in the server,
runs in the cloud,

246
00:11:50,701 --> 00:11:52,868
and talks to our Wave Server
directly.

247
00:11:52,868 --> 00:11:55,968
And so it communicates
by the user, with the user

248
00:11:55,968 --> 00:11:57,934
by manipulating the Wave,

249
00:11:57,934 --> 00:12:00,167
and then the user
can manipulate the Wave back,

250
00:12:00,167 --> 00:12:01,968
and that way,
they communicate.

251
00:12:01,968 --> 00:12:06,467
While a gadget is just a normal
open social type of gadget

252
00:12:06,467 --> 00:12:09,100
that gets extentiated
inside of our client

253
00:12:09,100 --> 00:12:11,567
and that can talk
directly to the user

254
00:12:11,567 --> 00:12:13,133
because it has
a bit of the screen.

255
00:12:13,133 --> 00:12:15,667
And it can store its state
in the Wave,

256
00:12:15,667 --> 00:12:19,868
so if you have a gadget
that is on a Wave

257
00:12:19,868 --> 00:12:22,834
that is being viewed
by five people at the same time,

258
00:12:22,834 --> 00:12:25,000
then those five people
each have their own instance

259
00:12:25,000 --> 00:12:28,868
of this gadget.

260
00:12:28,868 --> 00:12:34,734
So, let's talk a little bit
more about, um, gadgets.

261
00:12:34,734 --> 00:12:39,501
So here's the...
the basic model...

262
00:12:39,501 --> 00:12:41,501
of gadgets.

263
00:12:41,501 --> 00:12:45,334
We have this page,
LS Wave client

264
00:12:45,334 --> 00:12:48,100
which shows the user
what it is.

265
00:12:48,100 --> 00:12:51,634
And it maintains
an XML document

266
00:12:51,634 --> 00:12:54,200
that is the entire state
of that Wave.

267
00:12:54,200 --> 00:12:57,067
And any time you do something
to do the Wave

268
00:12:57,067 --> 00:12:58,834
using the Wave client,

269
00:12:58,834 --> 00:13:00,567
it looks like
you're manipulating the HML.

270
00:13:00,567 --> 00:13:02,200
But in the background we,
you know,

271
00:13:02,200 --> 00:13:03,634
manipulate the XML documents.

272
00:13:03,634 --> 00:13:05,667
And if you make a change,

273
00:13:05,667 --> 00:13:07,868
then the client calculates
the change that you made

274
00:13:07,868 --> 00:13:12,434
since this diff or op over
the wire to the Wave Server--

275
00:13:12,434 --> 00:13:14,300
The Wave Server
applies that to the, you know,

276
00:13:14,300 --> 00:13:18,033
to the actual
canonical version of the Wave...

277
00:13:18,033 --> 00:13:20,234
takes into account of all
the changes of the other people

278
00:13:20,234 --> 00:13:22,234
and then sends back
the operations

279
00:13:22,234 --> 00:13:24,434
that bring the client
in sync

280
00:13:24,434 --> 00:13:26,267
with the canonical version.

281
00:13:26,267 --> 00:13:29,234
So that's, you know,
very briefly how our...

282
00:13:29,234 --> 00:13:31,167
how our collaboration thing
works.

283
00:13:31,167 --> 00:13:32,834
If you want the details,

284
00:13:32,834 --> 00:13:37,434
we have a talk at 2:15,
I think, with a--

285
00:13:37,434 --> 00:13:40,234
where we take
a much deeper dive

286
00:13:40,234 --> 00:13:43,634
into, you know,
the technology behind this.

287
00:13:43,634 --> 00:13:45,834
For gadgets, this is really
all you need to know.

288
00:13:45,834 --> 00:13:47,434
So this gadget
sits in its iframe,

289
00:13:47,434 --> 00:13:49,400
and it can do
whatever gadgets can do,

290
00:13:49,400 --> 00:13:52,734
But we have this nice
little library

291
00:13:52,734 --> 00:13:56,634
that lets the gadget
make modifications

292
00:13:56,634 --> 00:13:58,434
to the XML document.

293
00:13:58,434 --> 00:14:01,267
For now, it can only change
one note in this XML document,

294
00:14:01,267 --> 00:14:05,067
and this is the--
well, its own gadget note

295
00:14:05,067 --> 00:14:07,133
where, essentially,

296
00:14:07,133 --> 00:14:10,834
all it gets to do is set
a bunch of key value pairs.

297
00:14:10,834 --> 00:14:13,734
But you can pretty much
represent any state

298
00:14:13,734 --> 00:14:15,934
in a list of key value pairs.

299
00:14:15,934 --> 00:14:19,467
So that's all good.

300
00:14:19,467 --> 00:14:23,400
Um...that API
that I was talking about

301
00:14:23,400 --> 00:14:25,534
basically has three bits.

302
00:14:25,534 --> 00:14:27,100
We have the Wave object.

303
00:14:27,100 --> 00:14:28,667
The Wave object
gives you access

304
00:14:28,667 --> 00:14:31,334
to the participants
on that Wave.

305
00:14:31,334 --> 00:14:33,701
It also gets you,
you know,

306
00:14:33,701 --> 00:14:35,834
gives you access
to the state object

307
00:14:35,834 --> 00:14:37,267
that I was talking about
before.

308
00:14:37,267 --> 00:14:42,033
Furthermore, we have
a thing called the mode.

309
00:14:42,033 --> 00:14:44,701
So the Wave can be
in a whole bunch of modes.

310
00:14:44,701 --> 00:14:47,100
The most important thing
is that

311
00:14:47,100 --> 00:14:50,200
sometimes you want to
distinguish what happens to--

312
00:14:50,200 --> 00:14:53,501
how you display things,
whether you are in playback mode

313
00:14:53,501 --> 00:14:55,300
or whether you are
in edit mode.

314
00:14:55,300 --> 00:14:57,501
And the same for--

315
00:14:57,501 --> 00:14:59,634
although we don't support it
right now,

316
00:14:59,634 --> 00:15:02,467
but...remember
during your demo,

317
00:15:02,467 --> 00:15:04,167
if you go back to a Wave
that you have been,

318
00:15:04,167 --> 00:15:06,767
you see the differences
that were made last time.

319
00:15:06,767 --> 00:15:08,567
We want to support that
in gadgets too

320
00:15:08,567 --> 00:15:10,567
so that you write a chess game

321
00:15:10,567 --> 00:15:13,167
and you go back to a Wave
that has this chess game on it.

322
00:15:13,167 --> 00:15:14,567
You can show the user

323
00:15:14,567 --> 00:15:16,367
what happened
since last time he looked.

324
00:15:16,367 --> 00:15:17,767
So you can sort of show
all the arrows

325
00:15:17,767 --> 00:15:19,367
of all the pieces that moved.

326
00:15:19,367 --> 00:15:21,367
We think that is a very
powerful thing to do.

327
00:15:21,367 --> 00:15:26,167
So the state object
lets you submit deltas,

328
00:15:26,167 --> 00:15:29,767
and it lets you
query the state.

329
00:15:29,767 --> 00:15:32,434
And the way that work is

330
00:15:32,434 --> 00:15:34,501
you always submit
deltas to the state,

331
00:15:34,501 --> 00:15:37,167
and then you get called back
with this is the new state.

332
00:15:37,167 --> 00:15:38,801
The reason that we do this

333
00:15:38,801 --> 00:15:41,267
is that you're not the only one
modifying a state.

334
00:15:41,267 --> 00:15:43,167
So that way we guarantee

335
00:15:43,167 --> 00:15:45,067
that any time you get
called back with the state

336
00:15:45,067 --> 00:15:46,434
that it's actually the state

337
00:15:46,434 --> 00:15:49,467
and not something that
you think you would be creating.

338
00:15:49,467 --> 00:15:53,601
Last thing that we have
is the participant object.

339
00:15:56,367 --> 00:15:58,000
Participants
are anybody on the Wave,

340
00:15:58,000 --> 00:16:00,667
including robots,
and we give you access for now

341
00:16:00,667 --> 00:16:04,667
to the name of the participant
and to the thumbnail URL.

342
00:16:04,667 --> 00:16:07,534
Well, let's have a look
at some actual code.

343
00:16:07,534 --> 00:16:09,567
This is just a reminder.

344
00:16:09,567 --> 00:16:11,601
Just for my sense,
how many people here

345
00:16:11,601 --> 00:16:16,434
have, uh, taken the time
to write a gadget before?

346
00:16:16,434 --> 00:16:20,100
Okay, well...
that's not too many.

347
00:16:20,100 --> 00:16:22,167
So this is a bare bone gadget.

348
00:16:22,167 --> 00:16:24,300
It's essentially
an XML document

349
00:16:24,300 --> 00:16:28,968
within the middle, uh,
a bit of HTML here and...

350
00:16:28,968 --> 00:16:31,234
it tells...

351
00:16:31,234 --> 00:16:33,300
you send this
to the gadget server

352
00:16:33,300 --> 00:16:36,400
and it configures a iframe
for you from a perspective.

353
00:16:36,400 --> 00:16:40,067
And so if you would load
this gadget

354
00:16:40,067 --> 00:16:43,968
inside of a iGoogle
or whatever,

355
00:16:43,968 --> 00:16:46,467
you would just see
Hello Wave--this thing here.

356
00:16:46,467 --> 00:16:48,434
'Cause that's really
all it does.

357
00:16:48,434 --> 00:16:50,000
So that's not very interesting.

358
00:16:50,000 --> 00:16:52,167
And I'm not going even
to show you this,

359
00:16:52,167 --> 00:16:53,868
because it's not much
of a demo.

360
00:16:53,868 --> 00:16:57,167
One thing I learned from Lars
is that, you know,

361
00:16:57,167 --> 00:16:59,601
if you want to make a nice demo,
throw in a map.

362
00:16:59,601 --> 00:17:02,100
[laughter]
So...

363
00:17:02,100 --> 00:17:05,033
That's what I did here.
It's the same gadget as before.

364
00:17:05,033 --> 00:17:07,400
But now what we do is,
you know,

365
00:17:07,400 --> 00:17:09,567
easy, easy Maps API.

366
00:17:09,567 --> 00:17:12,467
We create a map here,
set it on 3,500, 35,

367
00:17:12,467 --> 00:17:14,467
which is, you know, Japan.

368
00:17:14,467 --> 00:17:17,334
I--wrong number but so...

369
00:17:17,334 --> 00:17:20,367
now we can go to the Wave client
and uh--ooh.

370
00:17:20,367 --> 00:17:24,567
We can go to the Wave client...
and we can open that map.

371
00:17:24,567 --> 00:17:26,200
It's here.

372
00:17:26,200 --> 00:17:32,067
And with a little luck,
it will even load.

373
00:17:32,067 --> 00:17:34,467
Oh, come on!

374
00:17:46,267 --> 00:17:48,300
Well, I guess it's better
for me that it doesn't load

375
00:17:48,300 --> 00:17:50,300
than, you know,
this morning, but still...

376
00:17:50,300 --> 00:17:52,634
Seems unfortunate.

377
00:18:06,767 --> 00:18:09,167
Well, you know,
let's assume it loaded,

378
00:18:09,167 --> 00:18:13,767
then it would look like this.
[laughter]

379
00:18:13,767 --> 00:18:17,701
So the thing is that...

380
00:18:17,701 --> 00:18:18,701
ah, there we go.

381
00:18:18,701 --> 00:18:19,868
So the thing is this--

382
00:18:19,868 --> 00:18:21,167
this is a nice, you know,
it's a map.

383
00:18:21,167 --> 00:18:23,167
And you can move it around
and...you know.

384
00:18:23,167 --> 00:18:25,968
It shows that you can
basically take any gadget

385
00:18:25,968 --> 00:18:29,167
from the gadget galleries
that we have and...

386
00:18:29,167 --> 00:18:31,767
drop it into Wave and it will,
you know, it will play.

387
00:18:31,767 --> 00:18:33,367
So we have...you know...

388
00:18:33,367 --> 00:18:36,367
The thing though, is,
that if I move this map around

389
00:18:36,367 --> 00:18:38,400
and you're also looking
at this map,

390
00:18:38,400 --> 00:18:40,968
then, you know,
you see your own version.

391
00:18:40,968 --> 00:18:43,767
And if I...

392
00:18:43,767 --> 00:18:46,567
so, you know, if I focus
this thing on like Europe

393
00:18:46,567 --> 00:18:51,968
and then I go to a...
different Wave here...

394
00:18:51,968 --> 00:18:53,968
oh, man, this is not good

395
00:18:53,968 --> 00:18:55,567
that it loads so slowly.

396
00:18:55,567 --> 00:18:58,167
[man speaking indistinctly]
Osinga: Huh?

397
00:18:58,167 --> 00:19:00,968
[man repeats]

398
00:19:00,968 --> 00:19:03,834
Osinga: I know, but I'm supposed
to be on a special wired network

399
00:19:03,834 --> 00:19:06,033
that's much faster
than what you guys got.

400
00:19:06,033 --> 00:19:09,033
[laughter]

401
00:19:09,033 --> 00:19:10,968
Um...

402
00:19:13,634 --> 00:19:16,634
Anyway, so the point is
I go back to this Wave,

403
00:19:16,634 --> 00:19:18,434
and whoop--
now I'm back in Japan.

404
00:19:18,434 --> 00:19:19,834
It doesn't save its state.

405
00:19:19,834 --> 00:19:24,234
So we can use the...
the API...

406
00:19:24,234 --> 00:19:26,334
to do exactly that.

407
00:19:26,334 --> 00:19:29,868
So in the next slide,
what we did add here

408
00:19:29,868 --> 00:19:32,467
is a little...so now
we're getting to the point

409
00:19:32,467 --> 00:19:34,300
where, you know, unload.

410
00:19:34,300 --> 00:19:37,734
What we do is we say, well,
you know, set...

411
00:19:37,734 --> 00:19:41,200
take this set change--
interesting, it doesn't--

412
00:19:41,200 --> 00:19:43,601
It's called
a state changed method

413
00:19:43,601 --> 00:19:46,801
as soon as I--as soon as
the state of the gadget changed.

414
00:19:46,801 --> 00:19:48,834
And we add a listener
to the map.

415
00:19:48,834 --> 00:19:52,767
As soon as we're done with
the dragging of the map,

416
00:19:52,767 --> 00:19:54,300
we submit a delta

417
00:19:54,300 --> 00:19:56,968
saying that the key
latitude and the key longitude

418
00:19:56,968 --> 00:19:59,701
are now set to the latitude
and longitude of the map.

419
00:19:59,701 --> 00:20:03,434
And in the state changed,
we actually take the map

420
00:20:03,434 --> 00:20:07,767
and move it go
those keys from the state.

421
00:20:07,767 --> 00:20:09,801
The point here is that...

422
00:20:09,801 --> 00:20:12,434
this will execute on
all clients at the same time.

423
00:20:12,434 --> 00:20:14,434
So essentially
what we do here is

424
00:20:14,434 --> 00:20:16,033
if any of the...

425
00:20:16,033 --> 00:20:19,434
any user of any of those gadgets
moves that map around,

426
00:20:19,434 --> 00:20:22,234
then all the gadgets
get the state changed.

427
00:20:22,234 --> 00:20:23,834
So they will all, you know,

428
00:20:23,834 --> 00:20:26,634
synchronize
the move of the thing.

429
00:20:26,634 --> 00:20:30,133
And now, with a little
network luck,

430
00:20:30,133 --> 00:20:32,467
I can show you this other
version of the map.

431
00:20:57,367 --> 00:21:00,033
Uh...

432
00:21:00,033 --> 00:21:01,501
come on.

433
00:21:01,501 --> 00:21:03,467
Sorry about this.

434
00:21:03,467 --> 00:21:05,501
Okay, there we go.

435
00:21:05,501 --> 00:21:08,167
And I cleverly also
loaded this thing already

436
00:21:08,167 --> 00:21:09,501
in Firefox.

437
00:21:09,501 --> 00:21:12,868
And now if the connection
here didn't die...

438
00:21:12,868 --> 00:21:17,300
See? See, the network moves--
the map moves in the back.

439
00:21:17,300 --> 00:21:19,501
How cool is that?

440
00:21:19,501 --> 00:21:24,234
[applause]

441
00:21:24,234 --> 00:21:26,100
Yes. Should I switch off
the wireless?

442
00:21:26,100 --> 00:21:28,701
[woman speaking indistinctly]

443
00:21:28,701 --> 00:21:30,834
Osinga: Oh, off.
woman: Yes.

444
00:21:30,834 --> 00:21:32,200
Osinga:
Oh, yeah, I can do that.

445
00:21:32,200 --> 00:21:35,501
Maybe then I don't have
a connection at all, of course.

446
00:21:35,501 --> 00:21:37,701
[tittering]

447
00:21:37,701 --> 00:21:40,901
Okay, switching off
the thing now.

448
00:21:40,901 --> 00:21:45,267
All Wave radios are off...
ready for takeoff.

449
00:21:45,267 --> 00:21:47,501
Okay, so...
this is, of course, only using

450
00:21:47,501 --> 00:21:49,334
the state bit of the API.

451
00:21:49,334 --> 00:21:51,033
We also have
the participant API,

452
00:21:51,033 --> 00:21:52,767
so this looks like
a lot of code.

453
00:21:52,767 --> 00:21:56,868
If you add this bit of the code
to the same--

454
00:21:56,868 --> 00:22:00,067
so what I did here is
I added to the callback

455
00:22:00,067 --> 00:22:02,901
to also,
if the participants change,

456
00:22:02,901 --> 00:22:04,501
also call this function.

457
00:22:04,501 --> 00:22:06,067
So what we do here at the top is

458
00:22:06,067 --> 00:22:08,267
we go to the Wave and we ask for
all the participants.

459
00:22:08,267 --> 00:22:11,701
And then we look through
the participants and...

460
00:22:11,701 --> 00:22:16,767
for each of the participants,
we retrieve a key.

461
00:22:16,767 --> 00:22:18,601
And we use the participant ID
as the key

462
00:22:18,601 --> 00:22:20,901
so that each of the persons
on that Wave

463
00:22:20,901 --> 00:22:22,234
get their own key
in the state.

464
00:22:22,234 --> 00:22:23,567
So that way we make sure

465
00:22:23,567 --> 00:22:25,701
that they don't interfere
with each other.

466
00:22:25,701 --> 00:22:28,834
And for each of those,
we get these little string

467
00:22:28,834 --> 00:22:31,968
which is called ploc here,
you know, personal location.

468
00:22:31,968 --> 00:22:34,400
And this personal location,
um, I, you know,

469
00:22:34,400 --> 00:22:37,300
I could have used two strings
for the X and the Y coordinates.

470
00:22:37,300 --> 00:22:38,868
'Cause what we're trying
to do here is

471
00:22:38,868 --> 00:22:41,033
give each person on the Wave

472
00:22:41,033 --> 00:22:44,601
a little avatar that he can move
but nobody else can.

473
00:22:44,601 --> 00:22:49,467
So what we do is
we fetch the current cordinat--

474
00:22:49,467 --> 00:22:52,300
coordinates
from the participants,

475
00:22:52,300 --> 00:22:53,734
and if we don't have one,

476
00:22:53,734 --> 00:22:55,734
we put him in
somewhere in Africa.

477
00:22:55,734 --> 00:23:00,400
And then we construct
a marker.

478
00:23:00,400 --> 00:23:03,467
You know, it's an Earth Google
Maps marker

479
00:23:03,467 --> 00:23:07,200
using the getThumbnail method
on the participant.

480
00:23:07,200 --> 00:23:09,734
And we add it to the Wave.

481
00:23:09,734 --> 00:23:12,300
And the other thing that we do

482
00:23:12,300 --> 00:23:16,167
is we set the icon to draggable
so it can actually be moved.

483
00:23:16,167 --> 00:23:18,167
Then we attach a listener
to this thing

484
00:23:18,167 --> 00:23:21,601
that makes it possible
for, you know,

485
00:23:21,601 --> 00:23:23,901
the current user
to drag this thing around.

486
00:23:23,901 --> 00:23:25,501
We make it such that

487
00:23:25,501 --> 00:23:27,367
the [indistinct] are missing
a little bit.

488
00:23:27,367 --> 00:23:29,234
But if you're not
the current viewer,

489
00:23:29,234 --> 00:23:30,667
then you can't move
this thing around.

490
00:23:30,667 --> 00:23:33,100
So then with this bit
of participant code

491
00:23:33,100 --> 00:23:35,634
added to the gadget,

492
00:23:35,634 --> 00:23:42,267
we get a nice...

493
00:23:42,267 --> 00:23:43,968
[humming]

494
00:23:43,968 --> 00:23:45,467
the "where are you from?"

495
00:23:45,467 --> 00:23:48,501
So I added this to the...

496
00:23:48,501 --> 00:23:50,033
it does load faster.

497
00:23:50,033 --> 00:23:52,834
So I added this thing
with our team on it.

498
00:23:52,834 --> 00:23:55,334
You can see our team members.
Say hello.

499
00:23:55,334 --> 00:23:56,634
Thanks.

500
00:23:56,634 --> 00:23:59,634
And, you know, I asked them
to, you know,

501
00:23:59,634 --> 00:24:02,501
indicate where
they're from and...

502
00:24:02,501 --> 00:24:04,701
So, you know, they--

503
00:24:04,701 --> 00:24:06,901
everybody can pick up
their own--

504
00:24:06,901 --> 00:24:09,901
you can see here David jumping
around in the Atlantic.

505
00:24:09,901 --> 00:24:11,901
So that's...
kinda nice.

506
00:24:11,901 --> 00:24:15,501
So I can...
I can move my guy around

507
00:24:15,501 --> 00:24:17,100
to say, okay, I'm in Japan.

508
00:24:17,100 --> 00:24:18,701
So, you know,
it's just a...

509
00:24:18,701 --> 00:24:21,701
a cute little thing
where you have the shared state

510
00:24:21,701 --> 00:24:24,100
and you can see
how the gadget actually

511
00:24:24,100 --> 00:24:25,901
gets access
to the thing.

512
00:24:25,901 --> 00:24:30,100
Since I left
the move map around,

513
00:24:30,100 --> 00:24:33,300
I think we can even make it
so that David moved the map.

514
00:24:33,300 --> 00:24:35,100
David moved the map.

515
00:24:35,100 --> 00:24:40,100
Come on.

516
00:24:40,100 --> 00:24:43,734
See? No hands.
[chuckling]

517
00:24:43,734 --> 00:24:46,801
Anyway...

518
00:24:46,801 --> 00:24:49,300
so that's the...
the gadget bit.

519
00:24:49,300 --> 00:24:52,300
Here's a bunch of
example gadgets

520
00:24:52,300 --> 00:24:54,300
that we have written

521
00:24:54,300 --> 00:25:00,501
and that if the source code
is not on the Google.com site,

522
00:25:00,501 --> 00:25:02,567
then it should be
really soon.

523
00:25:02,567 --> 00:25:07,767
Here's the chess gadgets
that has...

524
00:25:07,767 --> 00:25:11,567
was shown in the demo
which nicely shows off--

525
00:25:11,567 --> 00:25:13,367
That's a good point
to make, actually.

526
00:25:13,367 --> 00:25:15,567
All these gadgets,
they share the state--

527
00:25:15,567 --> 00:25:17,567
they save the state
in the Wave.

528
00:25:17,567 --> 00:25:20,000
But by doing that they,
you know,

529
00:25:20,000 --> 00:25:23,567
they obviously get to play
in the whole...

530
00:25:23,567 --> 00:25:24,968
synchronization
of the state,

531
00:25:24,968 --> 00:25:26,567
so they don't have
to take care of that.

532
00:25:26,567 --> 00:25:27,968
But the other thing
that they do

533
00:25:27,968 --> 00:25:30,167
is since we record
all the change through the Wave,

534
00:25:30,167 --> 00:25:33,501
you can automatically
just replay the thing.

535
00:25:33,501 --> 00:25:36,934
So I can just go
to any of those...

536
00:25:36,934 --> 00:25:39,133
waves that we have,
for example, this thing here,

537
00:25:39,133 --> 00:25:42,567
and I can put it
in playback mode.

538
00:25:42,567 --> 00:25:44,334
And, you know, you can see...

539
00:25:44,334 --> 00:25:47,968
I can just...
where everybody moved the map

540
00:25:47,968 --> 00:25:52,567
and when
and, you know, how.

541
00:25:52,567 --> 00:25:55,167
So that way, you get
this powerful playback thing

542
00:25:55,167 --> 00:25:57,300
and especially for games,
it's really neat

543
00:25:57,300 --> 00:25:59,567
because you can play a game
and then when you're done,

544
00:25:59,567 --> 00:26:01,634
you can just replay
and see where you went wrong.

545
00:26:01,634 --> 00:26:04,033
So that's, you know,
kind of cool,

546
00:26:04,033 --> 00:26:06,634
and you get it for free.

547
00:26:06,634 --> 00:26:09,234
Uh, sudoku was also
mentioned here.

548
00:26:09,234 --> 00:26:11,834
This is another--
here in the corner,

549
00:26:11,834 --> 00:26:13,434
it's probably hard to read,

550
00:26:13,434 --> 00:26:15,434
but it's another
cute little game

551
00:26:15,434 --> 00:26:18,234
where it's based
on this magnetic poetry thing.

552
00:26:18,234 --> 00:26:21,033
So you have a whole
bunch of words

553
00:26:21,033 --> 00:26:22,634
and you can just
drag them around.

554
00:26:22,634 --> 00:26:23,834
And if you add
a whole group of people,

555
00:26:23,834 --> 00:26:26,434
you can sort of collectively
create poems.

556
00:26:26,434 --> 00:26:28,834
It's, you know,
hours of fun

557
00:26:28,834 --> 00:26:30,634
for people
with nothing else to do.

558
00:26:30,634 --> 00:26:33,033
[laughter]

559
00:26:33,033 --> 00:26:34,634
People that do have
a lot to do here

560
00:26:34,634 --> 00:26:35,834
wrote this gadget
here in the corner

561
00:26:35,834 --> 00:26:37,834
which is, you know,

562
00:26:37,834 --> 00:26:39,834
we had one of those
late-night sessions

563
00:26:39,834 --> 00:26:42,434
and then at some point,
always the point appears.

564
00:26:42,434 --> 00:26:44,033
This is on the weekend and...

565
00:26:44,033 --> 00:26:46,834
apparently, there's no food
at Google in the weekend.

566
00:26:46,834 --> 00:26:49,434
So somebody, you know,
somebody will get hungry

567
00:26:49,434 --> 00:26:50,834
and somebody else
will get hungry

568
00:26:50,834 --> 00:26:52,434
and usually
the most hungry person

569
00:26:52,434 --> 00:26:55,434
then finally decides
to get food for everybody.

570
00:26:55,434 --> 00:26:58,234
And it's always hard
to figure out what to get.

571
00:26:58,234 --> 00:27:00,067
So somebody wrote
a little gadget

572
00:27:00,067 --> 00:27:02,901
that allows everybody
to add one line to the gadget

573
00:27:02,901 --> 00:27:05,701
from a bunch of menus
that he screen scraped

574
00:27:05,701 --> 00:27:07,100
from a bunch of websites

575
00:27:07,100 --> 00:27:10,501
of restaurants that
we could do the food run to.

576
00:27:10,501 --> 00:27:12,901
And so you can have this
whole discussion about the food

577
00:27:12,901 --> 00:27:15,100
and the top of this Wave
then automatically

578
00:27:15,100 --> 00:27:18,501
keeps track of a list of all
the things that we want to get

579
00:27:18,501 --> 00:27:21,534
and from which restaurants,
so it's very neat.

580
00:27:25,100 --> 00:27:29,667
Okay. So...
we get to the robot bit.

581
00:27:32,501 --> 00:27:34,801
One of the reasons that robots
are cooler than gadgets

582
00:27:34,801 --> 00:27:37,400
is that it just sounds
much cooler.

583
00:27:37,400 --> 00:27:39,200
[laughter]

584
00:27:39,200 --> 00:27:42,100
I mean, building a robot...

585
00:27:42,100 --> 00:27:44,667
who can say that,
that you do that for a job?

586
00:27:44,667 --> 00:27:46,334
Well, I can.

587
00:27:46,334 --> 00:27:49,334
Um, so robot sits sort of
on the other side of the thing.

588
00:27:49,334 --> 00:27:51,501
Here we have Carl's client,
in this case,

589
00:27:51,501 --> 00:27:53,434
and Carl's also looking
at a gadget here still,

590
00:27:53,434 --> 00:27:56,400
and this is the...
this is the XML documents

591
00:27:56,400 --> 00:27:58,100
that is kept by its client.

592
00:27:58,100 --> 00:28:00,234
And it's kept in sync
by the Wave Server.

593
00:28:00,234 --> 00:28:02,234
But the Wave Server
talks not just to clients.

594
00:28:02,234 --> 00:28:05,801
It also talks to a bunch
of agents that we have here.

595
00:28:05,801 --> 00:28:09,200
So Spelly and Linky
are sort of the robot agents

596
00:28:09,200 --> 00:28:11,033
that come with the system,

597
00:28:11,033 --> 00:28:13,067
and they are on all waves

598
00:28:13,067 --> 00:28:14,868
and they have another,
you know,

599
00:28:14,868 --> 00:28:17,033
they sort of have
direct access to everything.

600
00:28:17,033 --> 00:28:19,901
For these basic agents,
you really need that.

601
00:28:19,901 --> 00:28:21,767
So they're a little special.

602
00:28:21,767 --> 00:28:24,000
But in order to make it
as simple as possible

603
00:28:24,000 --> 00:28:25,634
for everybody to build robots,

604
00:28:25,634 --> 00:28:28,400
we have also created
a robot proxy here.

605
00:28:28,400 --> 00:28:30,334
The robot proxy
also talks to the Wave Server

606
00:28:30,334 --> 00:28:32,033
and it talks
to the Wave protocol.

607
00:28:32,033 --> 00:28:35,267
What it does,
it takes the Wave protocol

608
00:28:35,267 --> 00:28:38,767
and it converts it
to HTTP calls.

609
00:28:38,767 --> 00:28:42,567
And we have
a adjacent format

610
00:28:42,567 --> 00:28:45,000
where we take
those HTTP calls.

611
00:28:45,000 --> 00:28:47,200
We take basically
all operations

612
00:28:47,200 --> 00:28:48,701
that come from
the Wave Server

613
00:28:48,701 --> 00:28:50,501
that are interesting
for your robot

614
00:28:50,501 --> 00:28:52,901
and call out
to this HTTP server

615
00:28:52,901 --> 00:28:54,968
that is implementing
the robot interface

616
00:28:54,968 --> 00:28:57,367
with adjacent string
encoding those operations.

617
00:28:57,367 --> 00:29:01,834
And then, uh, that robot
returns the thing back.

618
00:29:01,834 --> 00:29:06,434
So this is essentially
the API that we have.

619
00:29:06,434 --> 00:29:07,834
We have a bunch of events.

620
00:29:07,834 --> 00:29:10,434
These are the things that,
as a robot, you can react to.

621
00:29:10,434 --> 00:29:11,834
And we have
a bunch of operations

622
00:29:11,834 --> 00:29:13,434
which are the things that,
as a robot,

623
00:29:13,434 --> 00:29:16,234
you can return to us
and, uh, to modify.

624
00:29:16,234 --> 00:29:20,200
Oh, one remark is
you can see here at the bottom

625
00:29:20,200 --> 00:29:22,200
that it calls out
to App Engine,

626
00:29:22,200 --> 00:29:24,701
and you might think
that's just Google propaganda.

627
00:29:24,701 --> 00:29:28,367
But for now,
we have restricted it

628
00:29:28,367 --> 00:29:30,267
to robots only
running in App Engine.

629
00:29:30,267 --> 00:29:33,968
There's a bunch of good
technical reasons for

630
00:29:33,968 --> 00:29:37,367
but as we progress,
we'll lift that restriction

631
00:29:37,367 --> 00:29:40,868
and make it possible to run
robots in any old server

632
00:29:40,868 --> 00:29:42,634
that you might have.

633
00:29:42,634 --> 00:29:46,667
So the...
robots have a model of the Wave,

634
00:29:46,667 --> 00:29:49,000
and robots have access
to the entire Wave,

635
00:29:49,000 --> 00:29:51,400
not like gadgets
that only have access

636
00:29:51,400 --> 00:29:53,834
to the little bit
that they control.

637
00:29:53,834 --> 00:29:58,434
And the model is fairly similar
to the model I described before,

638
00:29:58,434 --> 00:30:00,667
except for that we have
simplified it a little bit

639
00:30:00,667 --> 00:30:05,434
so we--robots see, by default,
only the text in a Wave.

640
00:30:05,434 --> 00:30:07,334
It makes it a lot easier
to manipulate.

641
00:30:07,334 --> 00:30:10,868
And we sort of extract little
text bits from the XML document

642
00:30:10,868 --> 00:30:12,434
and create a TextView
out of that,

643
00:30:12,434 --> 00:30:14,033
and then if you modify
that TextView,

644
00:30:14,033 --> 00:30:16,033
we figure out what bits
you modified

645
00:30:16,033 --> 00:30:18,634
and throw it into
the whole OT stack

646
00:30:18,634 --> 00:30:21,734
and make sure that
it synchronizes nicely.

647
00:30:21,734 --> 00:30:24,234
And we have similar views
of these documents

648
00:30:24,234 --> 00:30:26,634
if you want to talk
to a gadget in the Wave

649
00:30:26,634 --> 00:30:28,434
or if you want to talk
to the forum.

650
00:30:28,434 --> 00:30:31,968
In terms of events...

651
00:30:31,968 --> 00:30:34,434
you can react to events
on three different levels.

652
00:30:34,434 --> 00:30:37,033
You can react on wavelets
where, you know,

653
00:30:37,033 --> 00:30:39,434
you can look whether
there's a blip created,

654
00:30:39,434 --> 00:30:42,067
participant changed,
or a title changed.

655
00:30:42,067 --> 00:30:44,567
And for the blips you can,
you know,

656
00:30:44,567 --> 00:30:47,234
essentially see what changed
in a specific blips

657
00:30:47,234 --> 00:30:51,434
or document
inside of a wavelet.

658
00:30:51,434 --> 00:30:55,334
And then we have right now
only one method for the forms--

659
00:30:55,334 --> 00:30:57,367
that is when a button
get clicked.

660
00:31:00,868 --> 00:31:03,300
So you can insert
an entire form in a Wave,

661
00:31:03,300 --> 00:31:05,200
but then when, you know,
a button gets clicked,

662
00:31:05,200 --> 00:31:07,300
you can react
and do something.

663
00:31:07,300 --> 00:31:09,300
Now, what can you do,
you might wonder.

664
00:31:09,300 --> 00:31:10,701
A whole bunch of things.

665
00:31:10,701 --> 00:31:14,100
Essentially, we allow you
to manipulate the robot

666
00:31:14,100 --> 00:31:16,501
in...[stammering]

667
00:31:16,501 --> 00:31:20,067
manipulate the document
in whatever way you want

668
00:31:20,067 --> 00:31:23,534
by creating new replies,
creating new waves

669
00:31:23,534 --> 00:31:27,100
or changing the text title
or whatever is in there.

670
00:31:27,100 --> 00:31:28,701
And again,
we have this gadget form

671
00:31:28,701 --> 00:31:30,501
and TextView
that makes it simple

672
00:31:30,501 --> 00:31:32,300
to make text modifications

673
00:31:32,300 --> 00:31:34,701
or just modify
the state of the gadget

674
00:31:34,701 --> 00:31:38,567
or to modify the form.

675
00:31:40,901 --> 00:31:46,501
As of today, we have
on the code, the Google site,

676
00:31:46,501 --> 00:31:50,300
we have two APIs published,

677
00:31:50,300 --> 00:31:53,300
one in Python
and one in Java.

678
00:31:53,300 --> 00:31:55,100
And they both run on the--

679
00:31:55,100 --> 00:31:57,901
and the reason that
we have done it this way

680
00:31:57,901 --> 00:32:00,100
is that we have
this wire protocol

681
00:32:00,100 --> 00:32:02,167
that goes out
to the HTTP servers

682
00:32:02,167 --> 00:32:05,767
and that the adjacent
saying, well, we're...

683
00:32:05,767 --> 00:32:07,968
we're, unfortunately,
not quite ready

684
00:32:07,968 --> 00:32:10,400
to commit to that completely.

685
00:32:10,400 --> 00:32:12,534
'Cause we changed
a lot of things.

686
00:32:12,534 --> 00:32:14,901
So instead, we have chosen
for now to give you

687
00:32:14,901 --> 00:32:16,868
the Python Library
and the Java Library,

688
00:32:16,868 --> 00:32:18,434
and we can kind of promise

689
00:32:18,434 --> 00:32:20,667
that we keep those APIs
fairly stable,

690
00:32:20,667 --> 00:32:22,801
and the wire protocol
underneath it might change.

691
00:32:22,801 --> 00:32:25,501
Once we get to the point where
we actually are fairly sure,

692
00:32:25,501 --> 00:32:28,033
you know, when we get that,
we'll standardize on that.

693
00:32:28,033 --> 00:32:30,100
We'll publish the thing
and, you know,

694
00:32:30,100 --> 00:32:32,267
if you wanna go wild
and create other libraries,

695
00:32:32,267 --> 00:32:33,734
then it's all fine.

696
00:32:33,734 --> 00:32:35,534
Or if you find that,
you know,

697
00:32:35,534 --> 00:32:37,133
our libraries
that will open source

698
00:32:37,133 --> 00:32:38,701
or are...

699
00:32:38,701 --> 00:32:42,133
are faulty or need things,
please send us the changes.

700
00:32:42,133 --> 00:32:44,567
You know,
it can always be better.

701
00:32:44,567 --> 00:32:47,033
Anyway, so I have here
the code in Python

702
00:32:47,033 --> 00:32:49,000
of a very simple robot.

703
00:32:49,000 --> 00:32:51,868
You know, I could have
taken the Java version of this,

704
00:32:51,868 --> 00:32:53,868
but then, you know,
I would have needed

705
00:32:53,868 --> 00:32:56,501
seven files
instead of, uh, 20 lines.

706
00:32:56,501 --> 00:32:58,868
[laughter]

707
00:32:58,868 --> 00:33:01,968
[applause]

708
00:33:01,968 --> 00:33:06,467
Good thing
it's not JavaOne here.

709
00:33:06,467 --> 00:33:08,634
Anyway, so this--
this robot is very simple.

710
00:33:08,634 --> 00:33:11,067
We create here the robot.
We call it Yasr.

711
00:33:11,067 --> 00:33:13,467
And you might wonder why
Yasr.

712
00:33:13,467 --> 00:33:15,667
Well, that's because
when people get the chance

713
00:33:15,667 --> 00:33:17,234
to play with a robot API,

714
00:33:17,234 --> 00:33:18,901
there's always two things
they want to try:

715
00:33:18,901 --> 00:33:21,501
One is Echoy, which echoes
whatever the user types.

716
00:33:21,501 --> 00:33:23,501
And the other one
is they realize

717
00:33:23,501 --> 00:33:25,567
that a Wave doesn't have
any Smiley support.

718
00:33:25,567 --> 00:33:28,000
If you type a Smiley,
it doesn't stop to do that.

719
00:33:28,000 --> 00:33:29,801
So they come
to the brilliant idea

720
00:33:29,801 --> 00:33:31,801
that they should be
the first person to do that.

721
00:33:31,801 --> 00:33:33,634
They're not.
[laughter]

722
00:33:33,634 --> 00:33:36,701
So Yasr means
"yet another Smiley robot."

723
00:33:36,701 --> 00:33:38,968
Okay, so Yasr subscribes

724
00:33:38,968 --> 00:33:43,033
to the events
blip submitted...event.

725
00:33:43,033 --> 00:33:46,634
And then it will actually

726
00:33:46,634 --> 00:33:50,634
call this on blip submitted
function, which is defined here.

727
00:33:50,634 --> 00:33:53,167
This thing then goes
to the context.

728
00:33:53,167 --> 00:33:55,734
So we have two elements here.
We have properties and context.

729
00:33:55,734 --> 00:34:00,167
Properties is...

730
00:34:00,167 --> 00:34:01,834
it's a little...

731
00:34:01,834 --> 00:34:04,167
so properties
is specific to that event,

732
00:34:04,167 --> 00:34:06,701
and contacts is sort of
like what happened--

733
00:34:06,701 --> 00:34:08,801
what is the context
in which this event happened.

734
00:34:08,801 --> 00:34:10,834
So what are the bits
of the Wave?

735
00:34:10,834 --> 00:34:14,000
And we...

736
00:34:14,000 --> 00:34:17,234
don't quite support yet...

737
00:34:17,234 --> 00:34:20,234
a good way to specify
which contacts you want.

738
00:34:20,234 --> 00:34:22,200
But the idea is that as,
you know,

739
00:34:22,200 --> 00:34:25,200
that you don't always want to
have full access to everything.

740
00:34:25,200 --> 00:34:28,667
That, you know,
you don't want to have always

741
00:34:28,667 --> 00:34:31,400
the entire Wave sent
to your poor little robot

742
00:34:31,400 --> 00:34:33,434
if you're only interested
in the title changing.

743
00:34:33,434 --> 00:34:35,234
Anyway, so if we have
this little thing,

744
00:34:35,234 --> 00:34:38,033
we look for this string
and we look for that string

745
00:34:38,033 --> 00:34:41,067
and then we substitute it
by the Unicode character

746
00:34:41,067 --> 00:34:42,734
that is that thing.

747
00:34:42,734 --> 00:34:45,100
So now we'll see whether...

748
00:34:45,100 --> 00:34:47,701
the gods of the network are...

749
00:34:47,701 --> 00:34:51,434
Here we have the Smiley robot,
and I can reply to this

750
00:34:51,434 --> 00:34:56,567
and I can say...Hello.

751
00:34:56,567 --> 00:34:58,300
And now...

752
00:34:58,300 --> 00:35:00,400
you see, it substituted
for a tiny Smiley.

753
00:35:00,400 --> 00:35:04,434
You know, that's the drawback
of using the Unicode trick.

754
00:35:04,434 --> 00:35:06,234
You could also insert an image,

755
00:35:06,234 --> 00:35:08,968
but then the whole code
would be a little longer.

756
00:35:08,968 --> 00:35:11,133
So that's the simplest robot
that you can imagine.

757
00:35:11,133 --> 00:35:12,868
It's not very useful.

758
00:35:12,868 --> 00:35:15,968
Now, if we take the code
of just before

759
00:35:15,968 --> 00:35:17,767
and we insert this...

760
00:35:17,767 --> 00:35:22,534
we get a slightly more...
more interesting thing.

761
00:35:22,534 --> 00:35:25,567
This was based on an idea of
somebody from the search team.

762
00:35:25,567 --> 00:35:27,033
Essentially what it does here,

763
00:35:27,033 --> 00:35:29,067
it looks at the contents
of your blip.

764
00:35:29,067 --> 00:35:30,767
It looks for three
question marks

765
00:35:30,767 --> 00:35:33,267
and then it substitutes it
for a star,

766
00:35:33,267 --> 00:35:36,567
and it does using the Ajax
Search APIs that Google has.

767
00:35:36,567 --> 00:35:38,400
It does a search for that thing.

768
00:35:38,400 --> 00:35:40,534
And it looks at all the results,

769
00:35:40,534 --> 00:35:43,367
and it finds back
all the things that are

770
00:35:43,367 --> 00:35:45,667
using as a tiny
regular expression here

771
00:35:45,667 --> 00:35:47,133
that are in bold,

772
00:35:47,133 --> 00:35:49,767
and then it counts
all the things that are in bold

773
00:35:49,767 --> 00:35:52,100
and it returns the one
that has the highest frequency.

774
00:35:52,100 --> 00:35:54,300
So what does it all mean?

775
00:35:54,300 --> 00:35:56,167
I, you know,
I'll show you what it means

776
00:35:56,167 --> 00:36:00,801
by bringing up this robot.

777
00:36:00,801 --> 00:36:04,100
Ah...where is he?

778
00:36:04,100 --> 00:36:05,901
There we go.

779
00:36:05,901 --> 00:36:07,834
So I can ask this robot
questions

780
00:36:07,834 --> 00:36:14,767
by saying things like
the capital of Germany is--

781
00:36:14,767 --> 00:36:17,300
It's a little scary.
I've never tried this.

782
00:36:17,300 --> 00:36:19,334
So what it will do,
it will do a quick Google search

783
00:36:19,334 --> 00:36:20,801
for this string,

784
00:36:20,801 --> 00:36:22,367
except for it takes
the three question marks,

785
00:36:22,367 --> 00:36:23,767
replace it by a star

786
00:36:23,767 --> 00:36:25,467
and then essentially
try to count

787
00:36:25,467 --> 00:36:27,467
what is the most likely,
you know,

788
00:36:27,467 --> 00:36:29,234
answer that appears in star

789
00:36:29,234 --> 00:36:32,667
in the Google search results
highlighted.

790
00:36:32,667 --> 00:36:36,467
So then...

791
00:36:36,467 --> 00:36:37,467
yes?

792
00:36:37,467 --> 00:36:39,033
[man speaking indistinctly]

793
00:36:39,033 --> 00:36:40,634
Osinga: A log?

794
00:36:40,634 --> 00:36:44,167
Oh, well, it runs on App Engine,
so...

795
00:36:46,634 --> 00:36:49,434
so, yes, I mean, you can
just look at...

796
00:36:49,434 --> 00:36:51,834
what the App Engine thing
gets called.

797
00:36:51,834 --> 00:36:54,467
I'm more concerned
that this didn't actually work.

798
00:36:54,467 --> 00:36:58,167
[laughter]

799
00:37:02,834 --> 00:37:06,467
[laughter]

800
00:37:06,467 --> 00:37:08,334
Ah, there he goes!

801
00:37:08,334 --> 00:37:16,300
[applause]

802
00:37:16,300 --> 00:37:18,501
I mean, it's kind of nice,
because it also does things

803
00:37:18,501 --> 00:37:20,567
where, you know, you don't
know in the middle

804
00:37:20,567 --> 00:37:21,934
what it was like.

805
00:37:21,934 --> 00:37:23,901
You can say thing like
found at Google.

806
00:37:23,901 --> 00:37:25,300
'Cause you know,
there was this guy,

807
00:37:25,300 --> 00:37:29,267
but I forgot his name.

808
00:37:29,267 --> 00:37:31,868
Come on.
Do it.

809
00:37:35,300 --> 00:37:37,601
[man speaking indistinctly]

810
00:37:37,601 --> 00:37:39,667
Osinga: Well, I know!

811
00:37:39,667 --> 00:37:40,968
[laughter]

812
00:37:40,968 --> 00:37:43,868
Ah...poor network.

813
00:37:46,701 --> 00:37:49,767
Anyway, um...

814
00:37:49,767 --> 00:37:52,267
it's really quite nice,
what you can do

815
00:37:52,267 --> 00:37:56,701
with just
a simple bits of Python codes.

816
00:37:56,701 --> 00:38:00,801
So...we have a bunch
of other examples here

817
00:38:00,801 --> 00:38:03,868
that mostly figured
in a demo this morning.

818
00:38:03,868 --> 00:38:07,601
We have Polly.
It handles the flow of polling.

819
00:38:07,601 --> 00:38:10,701
And it really stretches
what you can do with the API.

820
00:38:10,701 --> 00:38:12,901
Again, it will--
this one is written in Java,

821
00:38:12,901 --> 00:38:16,934
and you should be able
to look at the code

822
00:38:16,934 --> 00:38:18,934
as of today.

823
00:38:18,934 --> 00:38:21,968
It stores the...
you know, it uses the forms

824
00:38:21,968 --> 00:38:23,601
to interact with the user,

825
00:38:23,601 --> 00:38:26,367
and the other thing that's
kind of interesting is that

826
00:38:26,367 --> 00:38:28,567
it stores the entire state

827
00:38:28,567 --> 00:38:30,968
of all the thing that happens
in the Wave.

828
00:38:30,968 --> 00:38:34,567
We have this little thing
called data documents,

829
00:38:34,567 --> 00:38:36,567
and data documents
are like blips

830
00:38:36,567 --> 00:38:38,968
except for that they're
not visible to the user.

831
00:38:38,968 --> 00:38:41,367
They're really for robots
to store their state in that.

832
00:38:41,367 --> 00:38:43,968
And a robot could, you know,
either use that

833
00:38:43,968 --> 00:38:45,567
to share that information
with other robots,

834
00:38:45,567 --> 00:38:48,567
or it can even go as far as
creating a private reply

835
00:38:48,567 --> 00:38:51,167
or creating a private wavelet
with the data documents and that

836
00:38:51,167 --> 00:38:53,267
so that you now have this Wave

837
00:38:53,267 --> 00:38:55,300
where there's
this little bit of data

838
00:38:55,300 --> 00:38:57,567
where you can store your own
arbitrary key value pairs

839
00:38:57,567 --> 00:39:00,567
and that you know that
only your robot has access to.

840
00:39:00,567 --> 00:39:03,534
I imagine you wanna write
something like a poker game

841
00:39:03,534 --> 00:39:05,100
that, you know...

842
00:39:05,100 --> 00:39:07,834
and if you want to just
play it for fun, that's fine.

843
00:39:07,834 --> 00:39:09,234
But if you want to do it
more seriously,

844
00:39:09,234 --> 00:39:10,634
it becomes kind of important.

845
00:39:10,634 --> 00:39:12,234
You can't actually just,
you know,

846
00:39:12,234 --> 00:39:14,834
look at what goes over the wire
and see that, you know,

847
00:39:14,834 --> 00:39:17,033
the gadget that handles
the while poker game

848
00:39:17,033 --> 00:39:20,434
actually knows what the cards
of your opponents are.

849
00:39:20,434 --> 00:39:23,234
So using this day thing,
you can actually

850
00:39:23,234 --> 00:39:25,434
get around that.

851
00:39:25,434 --> 00:39:29,367
Bloggy publishes waves
to a blog.

852
00:39:29,367 --> 00:39:34,534
So the way that that works
is that...

853
00:39:34,534 --> 00:39:37,234
there are two things
that you need to do to publish.

854
00:39:37,234 --> 00:39:40,234
One is you want to make this
Wave accessible to everybody,

855
00:39:40,234 --> 00:39:41,834
not just the people
that are on the Wave.

856
00:39:41,834 --> 00:39:44,434
'Cause by default,
waves are only accessible

857
00:39:44,434 --> 00:39:47,634
by people that were added
to this Wave.

858
00:39:47,634 --> 00:39:51,033
So we have come up with
this secret group--

859
00:39:51,033 --> 00:39:53,634
It's called pubic@gwave.com--

860
00:39:53,634 --> 00:39:57,434
which actually has
all Wave users in it.

861
00:39:57,434 --> 00:39:59,834
So if you add that thing
to a Wave,

862
00:39:59,834 --> 00:40:02,434
this Wave now becomes
available to everybody.

863
00:40:02,434 --> 00:40:04,834
And, uh...

864
00:40:04,834 --> 00:40:06,634
the nice thing about that
is that, you know,

865
00:40:06,634 --> 00:40:08,868
then you can actually
use it for blogging.

866
00:40:08,868 --> 00:40:10,634
Right now, if you do that,

867
00:40:10,634 --> 00:40:12,634
it won't actually work
completely

868
00:40:12,634 --> 00:40:14,834
because we're still, you know,
only in sandbox,

869
00:40:14,834 --> 00:40:17,634
so anybody that doesn't
have a sandbox account

870
00:40:17,634 --> 00:40:20,267
that goes to your blog
demonstration

871
00:40:20,267 --> 00:40:22,634
will actually see some sort
of screen saying like,

872
00:40:22,634 --> 00:40:24,033
look, this is a demo.

873
00:40:24,033 --> 00:40:27,033
But after we go public,
we'll make it possible

874
00:40:27,033 --> 00:40:30,067
that people that don't have
a Wave account

875
00:40:30,067 --> 00:40:32,033
when they go
to your published Wave

876
00:40:32,033 --> 00:40:34,033
get automatically signed in

877
00:40:34,033 --> 00:40:37,234
by a virtual user
called anonymous

878
00:40:37,234 --> 00:40:39,834
and then can interact
in a limited way

879
00:40:39,834 --> 00:40:43,634
with your Wave
without having a Wave account.

880
00:40:43,634 --> 00:40:45,300
Uh, Buggy.

881
00:40:45,300 --> 00:40:48,167
Yeah, so Buggy is a...
the drawback

882
00:40:48,167 --> 00:40:50,501
is that we're secretly
using an API

883
00:40:50,501 --> 00:40:52,834
that, you know,
isn't quite ready out there.

884
00:40:52,834 --> 00:40:55,200
So we can't really come out
with the code there.

885
00:40:55,200 --> 00:40:58,667
But we think it demonstrates
a very nice

886
00:40:58,667 --> 00:40:59,968
how you can use robots

887
00:40:59,968 --> 00:41:03,234
to connect Wave
to legacy systems.

888
00:41:05,100 --> 00:41:06,567
Yeah, Searchy.

889
00:41:06,567 --> 00:41:11,033
Searchy is the little thing
that...

890
00:41:11,033 --> 00:41:17,167
if you click in the Wave client
here on top...

891
00:41:17,167 --> 00:41:20,067
well, that's interesting.

892
00:41:20,067 --> 00:41:22,067
Oh, here.

893
00:41:22,067 --> 00:41:24,334
It actually populates
this thing here.

894
00:41:24,334 --> 00:41:26,834
And it shows off
that it's a nice combination

895
00:41:26,834 --> 00:41:29,934
between UI elements
and a robot.

896
00:41:29,934 --> 00:41:31,968
So, you know, we could have
gone the simple way here

897
00:41:31,968 --> 00:41:36,467
and done this all on the...
on the client's site

898
00:41:36,467 --> 00:41:39,367
using the search APIs
that we have at Google here.

899
00:41:39,367 --> 00:41:41,567
But we decided
not to go that way

900
00:41:41,567 --> 00:41:44,434
because using a robot,
we can make it so that

901
00:41:44,434 --> 00:41:46,434
we can search together

902
00:41:46,434 --> 00:41:49,567
And, you know, we haven't quite
worked that out to the bottom,

903
00:41:49,567 --> 00:41:51,133
'cause, you know,
there's a lot to do.

904
00:41:51,133 --> 00:41:54,100
But we think it's very powerful
and it's possible for,

905
00:41:54,100 --> 00:41:56,634
you know, if you can't
find somebody else--

906
00:41:56,634 --> 00:41:58,934
if you can't find something
on Google

907
00:41:58,934 --> 00:42:00,567
or your favorite search engine

908
00:42:00,567 --> 00:42:03,133
that you can just add
somebody to your search session

909
00:42:03,133 --> 00:42:05,467
and that way,
search together.

910
00:42:08,934 --> 00:42:13,534
Tweety, one of our, I think,
most attractive robots.

911
00:42:13,534 --> 00:42:16,534
At this point,
it shows two things off.

912
00:42:16,534 --> 00:42:18,634
It shows how you can sync
between

913
00:42:18,634 --> 00:42:22,968
an external communication
system like Twitter and Wave,

914
00:42:22,968 --> 00:42:24,567
but it also shows you--

915
00:42:24,567 --> 00:42:27,434
and this is in the details
of the API--

916
00:42:27,434 --> 00:42:30,367
but you can...

917
00:42:30,367 --> 00:42:32,567
so by default,
everything that the robot does

918
00:42:32,567 --> 00:42:34,434
is assigned to that robot.

919
00:42:34,434 --> 00:42:36,968
And in the case of Twitter,
you don't actually want that,

920
00:42:36,968 --> 00:42:39,968
because you don't want
the post from Twitter coming in

921
00:42:39,968 --> 00:42:42,534
being labeled as from
Twitter the robot.

922
00:42:42,534 --> 00:42:44,033
You want to have this post
coming in

923
00:42:44,033 --> 00:42:47,767
being labeled from...

924
00:42:47,767 --> 00:42:50,767
the person
that Twittered this.

925
00:42:50,767 --> 00:42:52,767
So we have this thing
where robots

926
00:42:52,767 --> 00:42:56,767
can create blips on account
of external people.

927
00:42:56,767 --> 00:42:59,567
And that opens up
an entire new way,

928
00:42:59,567 --> 00:43:01,834
an entire new gateway
to building robots,

929
00:43:01,834 --> 00:43:04,033
because that way you can
build gateway robots.

930
00:43:04,033 --> 00:43:06,667
You could do this for email,
for example,

931
00:43:06,667 --> 00:43:09,834
where you take incoming emails

932
00:43:09,834 --> 00:43:18,000
and you make them appear
on account of somebody else.

933
00:43:18,000 --> 00:43:20,067
Okay...

934
00:43:20,067 --> 00:43:23,434
I wanted to leave a lot of
time for questions.

935
00:43:23,434 --> 00:43:25,334
I see we have
16 minutes left, so...

936
00:43:25,334 --> 00:43:27,234
I'll just see what
we can do.

937
00:43:27,234 --> 00:43:29,067
Well, it should be okay.

938
00:43:29,067 --> 00:43:30,701
Yes.

939
00:43:30,701 --> 00:43:35,200
So the last bit of the API
is the extension API.

940
00:43:35,200 --> 00:43:39,367
And, uh, the extension API
is our answer

941
00:43:39,367 --> 00:43:43,467
to how do you distribute
these robots and these gadgets?

942
00:43:43,467 --> 00:43:45,868
Because, you know, we could
stick them into a gallery.

943
00:43:45,868 --> 00:43:47,534
That is sort of like
the standard practice

944
00:43:47,534 --> 00:43:49,167
in the industry.

945
00:43:49,167 --> 00:43:50,601
And then your users,

946
00:43:50,601 --> 00:43:52,701
every time they want
to invoke this robot

947
00:43:52,701 --> 00:43:54,501
or every time they want
to insert this gadget,

948
00:43:54,501 --> 00:43:55,501
they will have to go
to this gallery

949
00:43:55,501 --> 00:43:57,968
and find that thing back.

950
00:43:57,968 --> 00:43:59,567
And, you know,
it's a lot of hassle.

951
00:43:59,567 --> 00:44:01,901
Especially since, you know,
that works kind of okay

952
00:44:01,901 --> 00:44:03,334
for something like iGoogle,

953
00:44:03,334 --> 00:44:05,167
because there you installed
the gadget once,

954
00:44:05,167 --> 00:44:06,400
and you're done.

955
00:44:06,400 --> 00:44:07,868
But here,
if you like this chess gadget,

956
00:44:07,868 --> 00:44:09,567
more likely than not,

957
00:44:09,567 --> 00:44:12,501
you'll want to keep inserting
this chess gadget

958
00:44:12,501 --> 00:44:14,667
and play chess with many,
many of your...

959
00:44:14,667 --> 00:44:16,400
of your friends.

960
00:44:16,400 --> 00:44:19,167
So then if--
every time you have to go there,

961
00:44:19,167 --> 00:44:20,534
it's a lot of hassle.

962
00:44:20,534 --> 00:44:22,734
So instead we came up with idea
of these extensions,

963
00:44:22,734 --> 00:44:25,634
and extensions is essentially
a little...

964
00:44:25,634 --> 00:44:28,868
it's a little XML document
that hooks...

965
00:44:28,868 --> 00:44:32,501
that...connects
a hook to an action.

966
00:44:32,501 --> 00:44:34,767
So we have a bunch of hooks
in the client,

967
00:44:34,767 --> 00:44:36,734
and right now I think

968
00:44:36,734 --> 00:44:41,968
we only have two
in the new Wave menu,

969
00:44:41,968 --> 00:44:44,234
and in the toolbar
you can add things.

970
00:44:44,234 --> 00:44:47,667
But we're actively
working to expand this

971
00:44:47,667 --> 00:44:50,901
to make it possible
to hook into keyboard shortcuts

972
00:44:50,901 --> 00:44:53,234
and the file menu,
and we have plans

973
00:44:53,234 --> 00:44:56,033
to support text macros,
and that sort of thing.

974
00:44:56,033 --> 00:44:58,234
And all these things
will then invoke

975
00:44:58,234 --> 00:45:01,934
one of the...
the things that we have.

976
00:45:01,934 --> 00:45:03,467
What can they do?

977
00:45:03,467 --> 00:45:05,767
Essentially,
they can trigger an action,

978
00:45:05,767 --> 00:45:07,801
and the actions
that they can do right now

979
00:45:07,801 --> 00:45:10,901
is they can insert a gadget
in the current Wave,

980
00:45:10,901 --> 00:45:14,000
they can add a participant,
or they can create a new Wave.

981
00:45:14,000 --> 00:45:15,901
And again, there, you know,

982
00:45:15,901 --> 00:45:17,968
there's an infinite amount
of new actions

983
00:45:17,968 --> 00:45:20,801
you'd come up with,
and we expect to add them.

984
00:45:20,801 --> 00:45:24,167
So how does it look
in practice?

985
00:45:24,167 --> 00:45:27,467
So this is the...
the document

986
00:45:27,467 --> 00:45:29,133
that I was talking about.

987
00:45:29,133 --> 00:45:31,367
In this case we say, well,
we have this extension

988
00:45:31,367 --> 00:45:33,601
insert something
into the toolbar.

989
00:45:33,601 --> 00:45:37,200
And there's a little info
thing here

990
00:45:37,200 --> 00:45:40,701
with a tool tip
and an icon.

991
00:45:40,701 --> 00:45:44,367
And this is an icon that,
unfortunately for you guys,

992
00:45:44,367 --> 00:45:47,234
I drew, so...
it's not as pretty,

993
00:45:47,234 --> 00:45:49,267
half as pretty
as the rest of the client.

994
00:45:49,267 --> 00:45:52,467
This is one of the things
that always breaks Lars' heart

995
00:45:52,467 --> 00:45:56,367
when it comes to developers
that...

996
00:45:56,367 --> 00:45:58,567
they have the ability
to make things ugly.

997
00:45:58,567 --> 00:46:00,667
[laughter]

998
00:46:00,667 --> 00:46:03,601
So please,
if you publish something,

999
00:46:03,601 --> 00:46:07,601
make sure it looks pretty
so Lars is also happy.

1000
00:46:07,601 --> 00:46:09,501
And then we have
this other thing

1001
00:46:09,501 --> 00:46:11,634
where we insert
this participant map

1002
00:46:11,634 --> 00:46:14,334
that, you know,
we had before.

1003
00:46:14,334 --> 00:46:15,868
Oh!

1004
00:46:15,868 --> 00:46:19,901
So then if we...
right now...

1005
00:46:19,901 --> 00:46:21,767
the way that you create
these things

1006
00:46:21,767 --> 00:46:25,934
are a little unfortunate
because we haven't...

1007
00:46:25,934 --> 00:46:28,634
We'll come up with
a better UI for that.

1008
00:46:28,634 --> 00:46:30,834
But this
is for developers only,

1009
00:46:30,834 --> 00:46:33,567
so we figured that
it's probably okay.

1010
00:46:36,234 --> 00:46:38,634
So the way it works

1011
00:46:38,634 --> 00:46:40,434
is you go to
the debug menu here,

1012
00:46:40,434 --> 00:46:44,033
which also...and you choose
this add extension installer

1013
00:46:44,033 --> 00:46:47,834
where you insert
the manifest URL and...

1014
00:46:47,834 --> 00:46:50,033
image URL that shows
the content of the thing.

1015
00:46:50,033 --> 00:46:51,834
And you get something
like this.

1016
00:46:51,834 --> 00:46:53,634
And you can see here that...

1017
00:46:53,634 --> 00:46:56,033
that, you know, you have
this little puzzle piece

1018
00:46:56,033 --> 00:46:58,634
that describes the extension
that I created.

1019
00:46:58,634 --> 00:47:00,701
And now if I create
this install button--

1020
00:47:00,701 --> 00:47:02,701
let me show you...look.

1021
00:47:02,701 --> 00:47:06,100
There is no ugly
toolbar button here.

1022
00:47:06,100 --> 00:47:10,300
But now when I click install,

1023
00:47:10,300 --> 00:47:12,234
nothing happens.

1024
00:47:15,901 --> 00:47:19,133
Let's see...

1025
00:47:25,901 --> 00:47:27,701
Wireless network unavailable.

1026
00:47:27,701 --> 00:47:31,634
Well, I thought
I didn't have...

1027
00:47:34,701 --> 00:47:38,701
Yes, so now it switched
from install to uninstall

1028
00:47:38,701 --> 00:47:40,100
because I haven't installed
this thing.

1029
00:47:40,100 --> 00:47:42,400
And now if I go to the--
ooh.

1030
00:47:42,400 --> 00:47:44,100
[laughter]

1031
00:47:44,100 --> 00:47:47,701
To the edit button, you see
here, indeed, an ugly button.

1032
00:47:47,701 --> 00:47:49,501
How nicely created.

1033
00:47:49,501 --> 00:47:52,100
And I can go ahead
and create a new Wave,

1034
00:47:52,100 --> 00:47:54,300
and now I can insert
this gadget,

1035
00:47:54,300 --> 00:47:56,100
and you see that, you know,

1036
00:47:56,100 --> 00:47:59,300
it inserted that
"where are you" gadget

1037
00:47:59,300 --> 00:48:01,567
with my draggable icon here.

1038
00:48:01,567 --> 00:48:03,367
So that's a really neat way

1039
00:48:03,367 --> 00:48:06,767
to distribute applications
that you built on top of Wave.

1040
00:48:06,767 --> 00:48:11,367
So, I mean, you can create
a Wave with that installer on it

1041
00:48:11,367 --> 00:48:12,567
and then invite
all your friends,

1042
00:48:12,567 --> 00:48:14,367
an they can invite
their friends.

1043
00:48:14,367 --> 00:48:15,767
Or you can create this Wave,

1044
00:48:15,767 --> 00:48:17,167
describe the application
that you built,

1045
00:48:17,167 --> 00:48:18,567
and embed that thing
on the website.

1046
00:48:18,567 --> 00:48:20,667
So you can have your website
with your product.

1047
00:48:20,667 --> 00:48:22,234
And people clicking
that button--

1048
00:48:22,234 --> 00:48:24,767
well, when they visit your
website, they see immediately

1049
00:48:24,767 --> 00:48:28,167
whether they have that extension
installed or not.

1050
00:48:28,167 --> 00:48:29,767
And people clicking that button

1051
00:48:29,767 --> 00:48:31,901
will get that extension
installed in their client.

1052
00:48:31,901 --> 00:48:36,767
So it's a really neat way
to combine the...

1053
00:48:36,767 --> 00:48:40,767
the install niceties
of traditional software

1054
00:48:40,767 --> 00:48:43,968
with the greatness

1055
00:48:43,968 --> 00:48:46,501
of these sort of
web-based applications.

1056
00:48:50,968 --> 00:48:52,968
Okay, thanks.

1057
00:48:52,968 --> 00:48:54,567
That was all I have.

1058
00:48:54,567 --> 00:48:57,167
So we have like ten minutes
for questions.

1059
00:48:57,167 --> 00:49:01,033
And again, haveasec.com/io

1060
00:49:01,033 --> 00:49:03,234
will take your feedback
for this thing.

1061
00:49:03,234 --> 00:49:04,834
Thank you very much.

1062
00:49:04,834 --> 00:49:11,767
[applause]

1063
00:49:11,767 --> 00:49:13,267
If you do have a question,

1064
00:49:13,267 --> 00:49:15,634
please use the microphone
so...

1065
00:49:15,634 --> 00:49:17,634
this talk is being recorded,

1066
00:49:17,634 --> 00:49:19,033
and it'd be nice
for the people

1067
00:49:19,033 --> 00:49:21,567
that want
to listen to it later.

1068
00:49:23,434 --> 00:49:24,434
Uh, yes.

1069
00:49:24,434 --> 00:49:26,234
man: On the android platform,

1070
00:49:26,234 --> 00:49:32,434
we can run a Wave client
within a browser frame.

1071
00:49:32,434 --> 00:49:35,033
Is it possible--
will it be possible

1072
00:49:35,033 --> 00:49:37,634
to have in the Android API

1073
00:49:37,634 --> 00:49:43,033
the ability to access wavelets
and these blips directly?

1074
00:49:43,033 --> 00:49:47,667
Without having to create
a separate frame.

1075
00:49:47,667 --> 00:49:51,634
Osinga: Um, so...
you want to...

1076
00:49:51,634 --> 00:49:56,033
man: Could we create
our own Wave client

1077
00:49:56,033 --> 00:49:59,834
using, in essence,
the Android API

1078
00:49:59,834 --> 00:50:03,234
instead of having to go
through a browser within--

1079
00:50:03,234 --> 00:50:07,033
a browser frame within
the Android API?

1080
00:50:07,033 --> 00:50:09,033
Osinga: Uh...
well, I suppose you could,

1081
00:50:09,033 --> 00:50:11,968
but it seems that--

1082
00:50:11,968 --> 00:50:13,634
So that sort of--

1083
00:50:13,634 --> 00:50:15,834
so the API
that I described here

1084
00:50:15,834 --> 00:50:19,434
is really about
how you expand the...

1085
00:50:19,434 --> 00:50:22,634
the Wave client as we build it
and using your robots.

1086
00:50:22,634 --> 00:50:23,834
If you want to do something
like that

1087
00:50:23,834 --> 00:50:26,033
and build a native client
for Wave,

1088
00:50:26,033 --> 00:50:27,434
that will be possible,

1089
00:50:27,434 --> 00:50:29,834
but it's not covered
with our current APIs.

1090
00:50:29,834 --> 00:50:32,801
'Cause for that,
we would have to...

1091
00:50:32,801 --> 00:50:34,634
you know,
and we're working on that.

1092
00:50:34,634 --> 00:50:36,234
The protocol that is spoken

1093
00:50:36,234 --> 00:50:38,167
between the server
and the client

1094
00:50:38,167 --> 00:50:41,234
would have to be stable enough
for us to publish it

1095
00:50:41,234 --> 00:50:43,234
so that you can come up
with your own native client.

1096
00:50:43,234 --> 00:50:44,567
man: Yes.

1097
00:50:44,567 --> 00:50:47,234
Osinga: You can do it
kind of using federation.

1098
00:50:47,234 --> 00:50:49,634
I mean, if you went
to the talk this morning,

1099
00:50:49,634 --> 00:50:54,367
there was this Python client
with text-based form stuff.

1100
00:50:54,367 --> 00:50:55,634
man: Yes.

1101
00:50:55,634 --> 00:50:57,367
Osinga: So that's kind of
in that direction.

1102
00:50:57,367 --> 00:50:59,400
man: Okay. Thank you.
Osinga: Thanks.

1103
00:50:59,400 --> 00:51:01,701
Take from the other side.
Sorry.

1104
00:51:01,701 --> 00:51:03,534
man: Yeah, hi.
Thanks for the great talk.

1105
00:51:03,534 --> 00:51:05,567
So far I've only seen you guys
logging in

1106
00:51:05,567 --> 00:51:08,701
with consumer Google Accounts,
Gmail Accounts.

1107
00:51:08,701 --> 00:51:11,701
Are there any plans to make
this work with Google Apps,

1108
00:51:11,701 --> 00:51:13,300
specifically premier edition,

1109
00:51:13,300 --> 00:51:16,300
and enable things like
signed fetch

1110
00:51:16,300 --> 00:51:17,901
for secure data connector

1111
00:51:17,901 --> 00:51:19,501
and private gadgets
and these kinds of things?

1112
00:51:19,501 --> 00:51:22,501
Osinga: Well,
there's lots of plans.

1113
00:51:22,501 --> 00:51:24,901
To start with
your first question,

1114
00:51:24,901 --> 00:51:29,033
so actually, the...

1115
00:51:29,033 --> 00:51:30,901
this thing is not a...

1116
00:51:30,901 --> 00:51:34,100
this thing here runs
on a hosted domain, right?

1117
00:51:34,100 --> 00:51:37,100
So it's not your normal
Gmail Account.

1118
00:51:37,100 --> 00:51:40,100
It's a separate thing,
so we have...

1119
00:51:40,100 --> 00:51:41,901
that is how we'll start,

1120
00:51:41,901 --> 00:51:43,701
with just domains
for your thing, and...

1121
00:51:43,701 --> 00:51:48,100
yeah, so the embedding story,
if you wanna continue that,

1122
00:51:48,100 --> 00:51:51,667
will at some point support...

1123
00:51:51,667 --> 00:51:53,300
the ability for, you know,

1124
00:51:53,300 --> 00:51:55,501
for non-Google people
to log into there.

1125
00:51:55,501 --> 00:51:57,100
But we're not quite done there.

1126
00:51:57,100 --> 00:51:58,501
But, yeah, we're working
on that.

1127
00:51:58,501 --> 00:52:01,367
And, yeah, this whole...
gadgets--

1128
00:52:01,367 --> 00:52:03,567
we're also working on that,
yeah.

1129
00:52:03,567 --> 00:52:05,167
man: Great. That's good news.
Thank you.

1130
00:52:05,167 --> 00:52:07,167
Osinga: So...yes and yes.
Yeah.

1131
00:52:07,167 --> 00:52:10,167
man: I had a couple questions.
Osinga: A couple?

1132
00:52:10,167 --> 00:52:11,968
man: One, is there any
SEO combinations,

1133
00:52:11,968 --> 00:52:14,167
like if we wanted to use this
as sort of like

1134
00:52:14,167 --> 00:52:18,100
a...open discussion
for maybe a particular user

1135
00:52:18,100 --> 00:52:20,868
or instance of something
on a site,

1136
00:52:20,868 --> 00:52:23,367
to have that be, you know,
SEOed at all?

1137
00:52:23,367 --> 00:52:25,767
I know it's active,
it's constantly changing,

1138
00:52:25,767 --> 00:52:27,968
but...is that possible?

1139
00:52:27,968 --> 00:52:29,734
'Cause I know it's a frame,
and I don't know,

1140
00:52:29,734 --> 00:52:32,167
it's not gonna be a next
in relation to the site at all.

1141
00:52:32,167 --> 00:52:35,100
Osinga: Yeah.
Yeah, so...again.

1142
00:52:35,100 --> 00:52:36,767
I mean, this is all
a developer preview,

1143
00:52:36,767 --> 00:52:38,767
so a lot of these questions,
we have answers,

1144
00:52:38,767 --> 00:52:40,634
but we're not quite ready
with them.

1145
00:52:40,634 --> 00:52:42,567
So we have a...

1146
00:52:42,567 --> 00:52:44,734
The way it will work is that
any of those waves

1147
00:52:44,734 --> 00:52:46,534
also has a static version.

1148
00:52:46,534 --> 00:52:48,367
And we'll make it so that

1149
00:52:48,367 --> 00:52:50,968
if you do the right thing
with the embed,

1150
00:52:50,968 --> 00:52:53,567
that we'll have some sort
of information

1151
00:52:53,567 --> 00:52:54,968
to point out to the crawler

1152
00:52:54,968 --> 00:52:57,167
where to find the static
version of that thing.

1153
00:52:57,167 --> 00:52:58,968
Now, of course, the crawler
won't, you know--

1154
00:52:58,968 --> 00:53:01,601
it will get the static version
and not the dynamic version.

1155
00:53:01,601 --> 00:53:04,634
But we think we can
make it so that

1156
00:53:04,634 --> 00:53:06,501
that will all work out

1157
00:53:06,501 --> 00:53:10,234
and that the crawler will index
the content on your website

1158
00:53:10,234 --> 00:53:14,033
as belonging to you at the point
of where it came by.

1159
00:53:14,033 --> 00:53:15,834
man: Okay, and then
one quick one.

1160
00:53:15,834 --> 00:53:19,133
Script libs, like dojo
or new tools or something--

1161
00:53:19,133 --> 00:53:20,834
can I use those in extensions

1162
00:53:20,834 --> 00:53:23,067
without, you know,
before I use new tools

1163
00:53:23,067 --> 00:53:25,167
and erect a dom
with the dollar sign?

1164
00:53:25,167 --> 00:53:26,400
Is that possible?

1165
00:53:26,400 --> 00:53:27,801
Osinga: Where?

1166
00:53:27,801 --> 00:53:31,267
man: Like using a script lib
library inside of the extensions

1167
00:53:31,267 --> 00:53:33,634
to do...you know,

1168
00:53:33,634 --> 00:53:36,601
if I wanted to augment
certain things with...

1169
00:53:36,601 --> 00:53:41,634
Osinga: So...you can totally
use something, you know...

1170
00:53:41,634 --> 00:53:43,234
I'm still not sure
I follow--

1171
00:53:43,234 --> 00:53:45,033
man: Okay, so like new tools,
if I use that,

1172
00:53:45,033 --> 00:53:47,033
if I instantiate it, obviously,
if there's any other--

1173
00:53:47,033 --> 00:53:48,834
It's done with web toolkits,

1174
00:53:48,834 --> 00:53:50,434
so I'm sure it spits out
native script.

1175
00:53:50,434 --> 00:53:52,434
But it's obviously gonna
collide and destroy

1176
00:53:52,434 --> 00:53:55,234
any other library out there
that's trying to...

1177
00:53:55,234 --> 00:53:57,434
Osinga: So...
so the gadgets...

1178
00:53:57,434 --> 00:54:00,067
the gadgets run
normal JavaScript.

1179
00:54:00,067 --> 00:54:03,901
We have a grid library
that lets you build

1180
00:54:03,901 --> 00:54:08,901
Wave specific gadgets
for using grid.

1181
00:54:08,901 --> 00:54:11,634
We don't have any dojo
or...that--

1182
00:54:11,634 --> 00:54:13,300
man: Oh, I was just asking
if I could use them.

1183
00:54:13,300 --> 00:54:14,901
Is that okay,
since it's all native script,

1184
00:54:14,901 --> 00:54:16,234
it's gonna be
inside that frame?

1185
00:54:16,234 --> 00:54:18,400
It's not gonna like
hurt it or anything or...

1186
00:54:18,400 --> 00:54:19,701
you guys are cool with that?

1187
00:54:19,701 --> 00:54:20,701
Osinga: No, no, no, no.

1188
00:54:20,701 --> 00:54:23,501
And, you know,
I like JQuery,

1189
00:54:23,501 --> 00:54:28,033
so, you know, for some
of these things I use JQuery.

1190
00:54:31,901 --> 00:54:33,701
Um...yeah.

1191
00:54:33,701 --> 00:54:36,901
man: What browser
would Wave run on?

1192
00:54:36,901 --> 00:54:39,701
Osinga: So currently,
it runs in

1193
00:54:39,701 --> 00:54:42,200
what we like to call
modern browsers.

1194
00:54:42,200 --> 00:54:45,234
So that's like...
[laughter]

1195
00:54:47,133 --> 00:54:49,300
But once we're launched,

1196
00:54:49,300 --> 00:54:54,834
we'll support Internet Explorer,
Safari, Chrome, and Firefox.

1197
00:54:56,767 --> 00:54:57,901
[indistinct]

1198
00:54:57,901 --> 00:54:59,300
man: Can you talk
a little bit about

1199
00:54:59,300 --> 00:55:01,300
the maybe interoperative
ability

1200
00:55:01,300 --> 00:55:05,067
between setting up non-Google
Accounts related to Wave,

1201
00:55:05,067 --> 00:55:07,000
so if we set up
our own server

1202
00:55:07,000 --> 00:55:09,400
that has the federation
protocol implemented

1203
00:55:09,400 --> 00:55:12,234
and then we need to be able
to communicate with waves,

1204
00:55:12,234 --> 00:55:15,234
I assume you won't have to
log into a Google Account

1205
00:55:15,234 --> 00:55:17,968
in order to communicate
with waves.

1206
00:55:17,968 --> 00:55:19,834
And will those be able
to be integrated?

1207
00:55:19,834 --> 00:55:21,167
Does that make sense?

1208
00:55:21,167 --> 00:55:23,434
Osinga: Yeah.
So...right now, you do have to.

1209
00:55:23,434 --> 00:55:26,367
So right now the only way
to use Wave

1210
00:55:26,367 --> 00:55:28,167
is if you have
a Wave Sandbox Account.

1211
00:55:28,167 --> 00:55:31,367
man: Right.
Osinga: But...

1212
00:55:31,367 --> 00:55:33,501
we expect that we can get--

1213
00:55:33,501 --> 00:55:35,334
So the first step
for this will be

1214
00:55:35,334 --> 00:55:39,868
that we'll have
this anonymous API that lets...

1215
00:55:39,868 --> 00:55:42,567
lets you embed a Wave
on a website

1216
00:55:42,567 --> 00:55:46,567
and then assign a user
to the user that comes in there

1217
00:55:46,567 --> 00:55:47,968
using your own
sort of thing.

1218
00:55:47,968 --> 00:55:49,767
And this will be
very untrusted,

1219
00:55:49,767 --> 00:55:51,167
but it allows them
at least to...

1220
00:55:51,167 --> 00:55:53,167
have Wave-like discussions
on that website.

1221
00:55:53,167 --> 00:55:56,167
But we expect that
we'll come out with an API

1222
00:55:56,167 --> 00:55:58,567
that will actually
allow you to do that

1223
00:55:58,567 --> 00:56:04,234
with any...any system...

1224
00:56:04,234 --> 00:56:07,067
you know, like...

1225
00:56:07,067 --> 00:56:11,400
any open ID like thing.

1226
00:56:11,400 --> 00:56:13,634
Does that make sense?

1227
00:56:13,634 --> 00:56:16,167
[man speaking indistinctly]

1228
00:56:16,167 --> 00:56:17,634
Osinga: Well, so, yeah.

1229
00:56:17,634 --> 00:56:20,033
If you go to Federation Wave,
of course, anything is possible.

1230
00:56:20,033 --> 00:56:22,367
Right? Then...

1231
00:56:25,834 --> 00:56:28,334
Yeah. Let's take one
from this side again.

1232
00:56:28,334 --> 00:56:31,234
man: With regard
to the embedding thing,

1233
00:56:31,234 --> 00:56:33,734
it uses just an ID

1234
00:56:33,734 --> 00:56:35,834
that identifies
a particular Wave, right?

1235
00:56:35,834 --> 00:56:36,968
Osinga: Yes.

1236
00:56:36,968 --> 00:56:38,801
man: So if you put in
a different ID,

1237
00:56:38,801 --> 00:56:40,234
you'd get a different Wave,
obviously.

1238
00:56:40,234 --> 00:56:41,501
Osinga: Yes.

1239
00:56:41,501 --> 00:56:43,534
man: Is there any sort of
security concerns

1240
00:56:43,534 --> 00:56:46,033
where, you know,
if you went in and changed--

1241
00:56:46,033 --> 00:56:48,367
someone went into the source
and changed, you know...

1242
00:56:48,367 --> 00:56:50,434
Osinga: Well, there's always
security concerns.

1243
00:56:50,434 --> 00:56:53,434
So the way it works
is that...

1244
00:56:53,434 --> 00:56:55,434
if you put an ID in there

1245
00:56:55,434 --> 00:56:57,234
that the user
that visits your page

1246
00:56:57,234 --> 00:56:59,434
has to have access rights
to that Wave,

1247
00:56:59,434 --> 00:57:02,501
otherwise they will see
a warning that they don't.

1248
00:57:02,501 --> 00:57:03,501
man: Okay.

1249
00:57:03,501 --> 00:57:04,901
Osinga: And you can add

1250
00:57:04,901 --> 00:57:07,501
this special user public
to the Wave

1251
00:57:07,501 --> 00:57:09,901
to make sure that everybody
has access to that Wave.

1252
00:57:09,901 --> 00:57:11,501
But of course,
that will result

1253
00:57:11,501 --> 00:57:14,100
to the thing that everybody
has access to this Wave.

1254
00:57:14,100 --> 00:57:16,868
That's why in a normal
Wave client if you do that,

1255
00:57:16,868 --> 00:57:18,701
you see a little banner
on top warning you

1256
00:57:18,701 --> 00:57:21,300
that this Wave is actually
accessible for everybody.

1257
00:57:21,300 --> 00:57:23,501
And we have this publish API

1258
00:57:23,501 --> 00:57:28,300
that lets the robot
that adds public to the Wave

1259
00:57:28,300 --> 00:57:31,000
also set the little
data document in that Wave

1260
00:57:31,000 --> 00:57:32,567
specifying
where it's published,

1261
00:57:32,567 --> 00:57:36,300
which will change this banner
from a generic warning

1262
00:57:36,300 --> 00:57:38,901
saying "this Wave
is publicly accessible"

1263
00:57:38,901 --> 00:57:40,300
to "this Wave
has been published

1264
00:57:40,300 --> 00:57:42,501
by the publishing author
at the URL."

1265
00:57:42,501 --> 00:57:48,300
That's what you saw
at the demo this morning.

1266
00:57:48,300 --> 00:57:50,100
woman: So the content
of the Wave

1267
00:57:50,100 --> 00:57:52,100
seems to be text right now.

1268
00:57:52,100 --> 00:57:55,300
I was wondering how flexible
the content model is.

1269
00:57:55,300 --> 00:57:57,734
Could you have more structured
types of data

1270
00:57:57,734 --> 00:58:00,968
that you can collaboratively
edit?

1271
00:58:00,968 --> 00:58:02,767
Osinga: Well, so the...

1272
00:58:02,767 --> 00:58:06,167
the waves are...
are not text only.

1273
00:58:06,167 --> 00:58:10,067
I mean, so a Wave
is a tree of blips, right?

1274
00:58:10,067 --> 00:58:13,167
And these blips each
are XML documents

1275
00:58:13,167 --> 00:58:15,367
with arbitrary structure
in them.

1276
00:58:15,367 --> 00:58:19,567
The thing that we have
decided right now

1277
00:58:19,567 --> 00:58:22,567
is that robots--and there's
good reasons for this--

1278
00:58:22,567 --> 00:58:26,567
for right now, robots see
these blips as strings of text.

1279
00:58:26,567 --> 00:58:28,601
It just makes the robots
a lot easier to develop.

1280
00:58:28,601 --> 00:58:30,167
But we expect that over time

1281
00:58:30,167 --> 00:58:33,133
we'll add different views
of this text for the robots

1282
00:58:33,133 --> 00:58:35,567
that will allow you to do
more of these arbitrary things.

1283
00:58:35,567 --> 00:58:36,968
And the same for gadgets.

1284
00:58:36,968 --> 00:58:40,167
So right now, the gadget
state is a key list--

1285
00:58:40,167 --> 00:58:42,234
a list of key value pairs.

1286
00:58:42,234 --> 00:58:44,767
But over time,
we expect to make this into

1287
00:58:44,767 --> 00:58:46,300
more data structures

1288
00:58:46,300 --> 00:58:50,767
that get you whatever
structure that you want.

1289
00:58:50,767 --> 00:58:56,701
man: Any plans for old-school
mail protocol integrability,

1290
00:58:56,701 --> 00:58:58,968
SMTP, IMAP?

1291
00:58:58,968 --> 00:59:01,434
Osinga: Oh. Yes.

1292
00:59:01,434 --> 00:59:03,234
man: Can you elaborate?

1293
00:59:03,234 --> 00:59:04,834
Osinga: But partly,
we hope that

1294
00:59:04,834 --> 00:59:06,834
we'll get our API
to the point

1295
00:59:06,834 --> 00:59:09,834
where it's not us that build
a mail gateway

1296
00:59:09,834 --> 00:59:12,767
but where anybody can come up
with their own gateway.

1297
00:59:12,767 --> 00:59:16,234
So if you look at--I think
the Twitter demo that we have

1298
00:59:16,234 --> 00:59:17,834
gives a glimpse of that.

1299
00:59:17,834 --> 00:59:19,834
Of course, Titter is,
you know, very simple.

1300
00:59:19,834 --> 00:59:21,634
man: So no plans for you guys
to provide those

1301
00:59:21,634 --> 00:59:23,400
out of the gate.

1302
00:59:23,400 --> 00:59:25,267
You want us to kind
of come in--

1303
00:59:25,267 --> 00:59:27,234
Osinga: Well, that would
be ideal, you know, just...

1304
00:59:27,234 --> 00:59:29,434
[laughter]

1305
00:59:29,434 --> 00:59:31,033
That would save so much work.

1306
00:59:31,033 --> 00:59:32,634
So that's part of why
we have this API,

1307
00:59:32,634 --> 00:59:35,434
'cause, you know, it...
there's...

1308
00:59:35,434 --> 00:59:37,234
and, you know, I think
that sort of thing,

1309
00:59:37,234 --> 00:59:38,634
when you get here--

1310
00:59:38,634 --> 00:59:39,901
there's loads and loads
of ideas

1311
00:59:39,901 --> 00:59:41,501
and things that are possible
with Wave,

1312
00:59:41,501 --> 00:59:43,634
and we can't all do them.

1313
00:59:43,634 --> 00:59:45,434
man: You want to displace
email, though,

1314
00:59:45,434 --> 00:59:47,501
like the keynote
was pointing at.

1315
00:59:47,501 --> 00:59:50,434
You're probably gonna want
to interoperate with it

1316
00:59:50,434 --> 00:59:51,634
from the get-go a little bit.

1317
00:59:51,634 --> 00:59:54,033
Osinga: Yes. No, no, no.
And I think...

1318
00:59:54,033 --> 00:59:55,634
I think that, of course,

1319
00:59:55,634 --> 00:59:59,033
that is one of the things
that we'll have at some point.

1320
00:59:59,033 --> 01:00:01,033
That's a really short answer.
I just wanted to...

1321
01:00:01,033 --> 01:00:04,033
Okay, I see there's
ten seconds on the clock.

1322
01:00:04,033 --> 01:00:06,234
man: What would Wave address
look like?

1323
01:00:06,234 --> 01:00:08,000
Osinga: So a Wave address
right now

1324
01:00:08,000 --> 01:00:10,467
looks like the domain
that hosts that address,

1325
01:00:10,467 --> 01:00:16,434
and then there's a bunch of
seemingly random characters.

1326
01:00:16,434 --> 01:00:20,634
To show you,
you can get to the Wave...

1327
01:00:20,634 --> 01:00:22,934
Oh, what do you mean,
the Wave address?

1328
01:00:22,934 --> 01:00:24,834
man: Like if you want to
replace email,

1329
01:00:24,834 --> 01:00:26,767
you're gonna have to put
something on your business card.

1330
01:00:26,767 --> 01:00:29,334
What's that gonna look like?

1331
01:00:29,334 --> 01:00:33,801
Osinga: Oh, so right now,
we just use Google Accounts

1332
01:00:33,801 --> 01:00:36,234
to log in and to communicate.

1333
01:00:36,234 --> 01:00:37,834
I thought you were
talking about--

1334
01:00:37,834 --> 01:00:40,234
so for embedding,
you need just Wave ID

1335
01:00:40,234 --> 01:00:42,434
which you can get
from the debug menu here.

1336
01:00:42,434 --> 01:00:44,033
I thought I showed it quickly,

1337
01:00:44,033 --> 01:00:46,434
because some may want
to try with that.

1338
01:00:46,434 --> 01:00:48,234
man: I mean more like
if I ran my own Wave Server,

1339
01:00:48,234 --> 01:00:50,033
and I wanted people
to be able to email me where

1340
01:00:50,033 --> 01:00:51,434
what would that look like?

1341
01:00:51,434 --> 01:00:52,767
Would it look like
an email address?

1342
01:00:52,767 --> 01:00:54,467
Would you guys have
the equivalent of MX records

1343
01:00:54,467 --> 01:00:57,234
in the NS for waves?

1344
01:00:57,234 --> 01:00:59,033
Osinga: Yes.

1345
01:00:59,033 --> 01:01:01,901
Yeah. So yeah,
it looks like an email address.

1346
01:01:01,901 --> 01:01:05,701
[man speaking indistinctly]

1347
01:01:05,701 --> 01:01:08,267
Osinga: So yeah.

1348
01:01:08,267 --> 01:01:10,868
It looks like an email address

1349
01:01:10,868 --> 01:01:12,901
or that the convention is,
you know,

1350
01:01:12,901 --> 01:01:15,334
it's user at...at a domain,
right?

1351
01:01:15,334 --> 01:01:19,000
So you reach that user
using a protocol

1352
01:01:19,000 --> 01:01:20,501
at that domain,

1353
01:01:20,501 --> 01:01:23,901
and the default is email
in a lot of people's heads,

1354
01:01:23,901 --> 01:01:25,701
but we use the same convention.

1355
01:01:25,701 --> 01:01:29,901
I think that's all we have
time for today.

1356
01:01:29,901 --> 01:01:34,300
If you have more questions
and you can find me,

1357
01:01:34,300 --> 01:01:35,300
ask them.

1358
01:01:35,300 --> 01:01:37,501
[woman speaking indistinctly]

1359
01:01:37,501 --> 01:01:39,534
[applause]

1360
01:01:39,534 --> 01:01:42,434
I mentioned it twice.

